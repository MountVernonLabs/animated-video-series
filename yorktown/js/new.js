(function(b){var a=function(){};a.isEmpty=function(a){return 0==a.replace(/^\s+|\s+$/g,"").length};a.strip=function(a){return a.replace(/^\s+|\s+$/g,"")};a.isNumber=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};a.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};a.isIE=function(){var a=-1;if("Microsoft Internet Explorer"==navigator.appName){var b=navigator.userAgent,t=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=t.exec(b)&&(a=parseFloat(RegExp.$1))}else"Netscape"==
navigator.appName&&(b=navigator.userAgent,t=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=t.exec(b)&&(a=parseFloat(RegExp.$1)));return-1!=a?!0:!1};a.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};a.isiPhoneIpod=function(){var a=navigator.userAgent;return-1<a.indexOf("iPhone")||-1<a.indexOf("iPod")};a.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};a.canPlayMp3=function(){var a=document.createElement("audio");return!(!a.canPlayType||!a.canPlayType("audio/mpeg;").replace(/no/,
""))};a.canPlayWav=function(){var a=document.createElement("audio");return!(!a.canPlayType||!a.canPlayType("audio/wav;").replace(/no/,""))};a.canPlayMp4=function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,""))};a.canPlayWebM=function(){var a=document.createElement("video");return!(!a.canPlayType||!a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,""))};a.hasDownloadSupport=function(){return"download"in
document.createElement("a")};a.relativePath=function(a){return/^(?:[a-z]+:)?\/\//i.test(a)};a.qualifyURL=function(a){var b=document.createElement("a");b.href=a;return b.href};a.stripSlashes=function(a){a=a.replace(/\\/g,"/");a=a.replace(/\\'/g,"'");a=a.replace(/\\"/g,'"');a=a.replace(/\\0/g,"\x00");return a=a.replace(/\\\\/g,"\\")};a.cutString=function(a,b){var g=a.indexOf(" ",b);return-1==g?a:a.substring(0,g)};a.selectText=function(a){var g=document;if(g.body.createTextRange)g=g.body.createTextRange(),
g.moveToElementText(a),g.select();else if(b.getSelection){var t=b.getSelection();g=g.createRange();g.selectNodeContents(a);t.removeAllRanges();t.addRange(g)}};a.isJsonString=function(a){try{var b=JSON.parse(a)}catch(t){return!1}return b};a.hasLocalStorage=function(){try{return"localStorage"in b&&null!==b.localStorage}catch(g){return!1}};a.randomiseArray=function(a){var b=[],g=[],k;for(k=0;k<a;k++)b[k]=k;for(k=0;k<a;k++){var d=Math.round(Math.random()*(b.length-1));g[k]=b[d];b.splice(d,1)}return g};
a.sortArray=function(a,b){var g,k=a.length,d=[];for(g=0;g<k;g++)d[g]=a[b[g]];return d};a.keysrt=function(a,b,t){var g=1;t&&(g=-1);return a.sort(function(a,k){var d=a[b],c=k[b];return g*(d<c?-1:d>c?1:0)})};a.keysrt2=function(a,b,t,k){var d=1;k&&(d=-1);return a.sort(function(a,g){var c=a[b][t],k=g[b][t];return d*(c<k?-1:c>k?1:0)})};a.parseXML=function(a){if(b.ActiveXObject&&b.GetObject){var g=new ActiveXObject("Microsoft.XMLDOM");g.loadXML(a);return g}if(b.DOMParser)return(new DOMParser).parseFromString(a,
"text/xml");throw Error("No XML parser available");};a.formatCurrentTime=function(a){a=Math.round(a);var b=Math.floor(a/60);a=Math.floor(a%60);return(10<=b?b:""+b)+":"+(10<=a?a:"0"+a)};a.formatDuration=function(a){a=Math.round(a);var b=Math.floor(a/60);a=Math.floor(a%60);return(10<=b?b:""+b)+":"+(10<=a?a:"0"+a)};a.toSeconds=function(a){a=a.split(/[\.:,]+/);return Number(3600*+a[0]+60*+a[1]+ +a[2])};b.UMGUtils=a})(window);
(function(b,a){b.UMGPlaylistManager=function(b){function g(){z=UMGUtils.randomiseArray(q)}var t=this,k=b.loopingOn,d=b.randomPlay,q,m=!1,c=-1,w,e,l=!1,z=[],y=!1;this.setCounter=function(b,f){"undefined"===typeof f&&(f=!0);c=f?c+parseInt(b,10):parseInt(b,10);if(isNaN(c))alert("UMGPlaylistManager message: No active media, counter = "+c);else if(m=!1,k){if(d)if(c>q-1){c=z[q-1];g();if(z[0]==c){var p=z.splice(0,1);z.push(p)}c=0}else 0>c&&(c=z[0],g(),z[q-1]==c&&(p=z.splice(q-1,1),z.unshift(p)),c=q-1);else c>
q-1?c=0:0>c&&(c=q-1);a(t).trigger("UMGPlaylistManager.COUNTER_READY",c)}else c>q-1?(c=q-1,m=!0):0>c&&(c=0),m?a(t).trigger("UMGPlaylistManager.PLAYLIST_END"):a(t).trigger("UMGPlaylistManager.COUNTER_READY",c)};this.getCounter=function(){return d?y?c:z[c]:c};this.advanceHandler=function(b){y=!1;l?(l=!1,e+b>q-1?(c=q-1,a(t).trigger("UMGPlaylistManager.COUNTER_READY",c)):0>e+b?(c=0,a(t).trigger("UMGPlaylistManager.COUNTER_READY",c)):t.setCounter(e+b,!1)):t.setCounter(b)};this.processPlaylistRequest=function(a){y=
!1;d&&(y=!0,w=a,l||(e=c,l=!0));t.setCounter(a,!1)};this.setPlaylistItems=function(a,b){"undefined"===typeof b&&(b=!0);b&&(c=-1);q=a;d&&g()};this.reSetCounter=function(a){"undefined"===typeof a?c=-1:(a=parseInt(a,10),q?(a>q-1?a=q-1:0>a&&(a=0),c=a):c=-1)};this.setRandom=function(a){(d="undefined"!==typeof a?a:!d)&&g();if(d){var b=z.length;for(a=0;a<b;a++)if(z[a]==c){if(0==a)break;a=z.splice(a,1);z.unshift(parseInt(a,10));break}c=0}else l?(c=w,l=!1):c=z[c]};this.setLooping=function(a){k="undefined"!==
typeof a?a:!k};this.getPosition=function(a){return z.indexOf(a)}}})(window,jQuery);
(function(b,a){b.UMGSoundLoader=function(g){function C(){e.length?(w=e.shift(),z=0,f=w.limit||500,t()):a(m).trigger("UMGSoundLoader.END_LOAD",[l])}function t(){if("file:"==b.location.protocol)alert("Using "+w.type+" locally is not possible! This requires online server connection!"),C();else{var p=w.type,A=w.path;"podcast"==p?(p=c+"?url="+encodeURIComponent(A),a.ajax({url:p,dataType:"json",cache:!1}).done(function(p){var b=UMGUtils.parseXML(p.contents),c,A,d,e=0,u;a(b).find("image").length&&a(b).find("image").attr("href")?
d=a(b).find("image").attr("href"):a(p.contents).find("itunes\\:image").length&&a(p.contents).find("itunes\\:image").attr("href")&&(d=a(p.contents).find("itunes\\:image").attr("href"));a(b).find("item").each(function(){if(e==f)return!1;c=a(this);A=a.extend(!0,{},w);A.type="audio";u=c.find("enclosure").attr("url");A.path=[{quality:"default",path:u}];"undefined"===typeof A.download&&(A.download=u);!A.title&&c.find("title").length&&(A.title=c.find("title").text());!A.artist&&c.find("author").length&&
(A.artist=c.find("author").text());!A.description&&c.find("description").length&&(A.description=c.find("description").text());!A.duration&&c.find("duration").length&&(A.duration=c.find("duration").text());A.thumb||(c.find("image").length&&c.find("image").attr("href")?A.thumb=c.find("image").attr("href"):d&&(A.thumb=d));"undefined"===typeof A.share&&c.find("link").length&&(A.share=c.find("link").text());l.push(A);e++});C()}).fail(function(a,p,c){console.log(a,p,c);C()})):"soundcloud"==p&&(y?d(A):k(A))}}
function k(a){if(UMGUtils.isEmpty(u))return alert("soundCloudAppId has not been set!"),C(),!1;var p=document.createElement("script");p.src="https://connect.soundcloud.com/sdk.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(p,c);var f=setInterval(function(){b.SC&&(f&&clearInterval(f),SC.initialize({client_id:u}),y=!0,d(a))},100)}function d(a){SC.get(a,{limit:200,linked_partitioning:1},function(a,p){if(p)console.log("Error getSoundCloudPage: "+p),C();else{if("track"==
a.kind)q(a);else if("playlist"==a.kind){var c,b=a.tracks.length;if(l.length+b>=f){b=f-l.length;var A=!0}for(c=0;c<b;c++)q(a.tracks[c],!0)}else if(a.collection)for(b=a.collection.length,l.length+b>=f&&(b=f-l.length,A=!0),c=0;c<b;c++)q(a.collection[c],!0);a.next_href&&!A?d(a.next_href):C()}})}function q(a,c){if(a.streamable&&a.stream_url){var b=jQuery.extend(!0,{},w);b.deeplink&&"undefined"!==typeof c&&(b.deeplink+=(z+1).toString(),z++);b.type="audio";var p=a.stream_url+"?client_id="+u;b.path=[{quality:"default",
path:p}];!b.duration&&a.duration&&(b.duration=a.duration);"undefined"===typeof b.download&&a.downloadable&&a.download_url&&(b.download=p.replace(/\/stream\\?/,"/download"));!b.title&&a.title&&(b.title=a.title);!b.description&&a.description&&(b.description=a.description);!b.thumb&&a.artwork_url&&(b.thumb=a.artwork_url,b.thumbQuality&&(b.thumb=b.thumb.replace("large.jpg",b.thumbQuality)));b.favoritings_count=parseInt(a.favoritings_count?a.favoritings_count:0,10);b.playback_count=parseInt(a.playback_count?
a.playback_count:0,10);b.hotness=b.favoritings_count+b.playback_count;"undefined"===typeof b.share&&a.permalink_url&&(b.share=a.permalink_url);l.push(b)}}var m=this,c=g.settings.sourcePath+"includes/ba-simple-proxy.php",w,e=[],l=[],z,y,u=g.settings.soundCloudAppId;a("<div/>");var f;this.setData=function(b){l=[];e=a.extend(!0,[],[b]);C()}}})(window,jQuery);
(function(b,a){b.UMGVimeoLoader=function(g){function C(){y.length?(z=y.shift(),-1!=a.inArray(z.type,m)?(e=z.limit||200,l=!1,f=0,c=1,t()):(console.log("Invalid data-type in playlist!"),C())):a(d).trigger("UMGVimeoLoader.END_LOAD",[u])}function t(){var b=z;a.ajax({type:"GET",url:q+"includes/vimeo/vimeo_data.php",data:{type:b.type,path:b.path||null,user:b.user||null,sort:b.sort||null,sortDirection:b.sortDirection||null,query:b.query||null,page:c,per_page:50>e?e:50},dataType:"json"}).done(function(a){if(!a.body)return console.log("Vimeo response null!"),
C(),!1;l||(l=!0,a.body.data?(e>a.body.total&&(e=a.body.total),w=Math.ceil(a.body.total/50),w>Math.ceil(e/50)&&(w=Math.ceil(e/50))):w=1);var b;if(a.body.data){var p=a.body.data.length;p+f>e&&(p=e-f)}else p=1;for(b=0;b<p;b++){var d=a.body.uri?a.body:a.body.data[b];u.push(k(d))}c<w?(c+=1,t()):(0==u.length&&console.log("Vimeo response contains result length 0!"),C())}).fail(function(a,b,c){console.log(a,b,c);C()})}function k(b){var c=a.extend(!0,{},z);c.deeplink&&"vimeo_single"!=c.origtype&&(c.deeplink+=
(f+1).toString(),f++);c.type="vimeo";c.id=b.uri.substr(b.uri.lastIndexOf("/")+1);b.duration&&(c.duration=b.duration);!c.title&&b.name&&(c.title=b.name);!c.description&&b.description&&(c.description=b.description);!c.thumb&&b.pictures&&b.pictures.sizes&&(c.thumb=b.pictures.sizes[1]?b.pictures.sizes[1].link:b.pictures.sizes[0].link);c.share||(c.share="https://vimeo.com/"+c.id);return c}var d=this,q=g.settings.sourcePath,m="vimeo_channel vimeo_group vimeo_user_album vimeo_user_appearance vimeo_user_like vimeo_user_portfolio vimeo_user_uploaded vimeo_video_query vimeo_single vimeo_related_video".split(" "),
c,w,e,l,z,y=[],u=[],f;this.setData=function(c){"file:"==b.location.protocol?(console.log("Using Vimeo locally is not possible! This requires online server connection!"),a(d).trigger("UMGVimeoLoader.END_LOAD",[u])):(u=[],y=a.extend(!0,[],[c]),C())}}})(window,jQuery);
(function(b,a){b.UMGDailyMotionLoader=function(g){function C(){if(w.length){m=w.shift();var b=m.type,d=m.path;l=0;c=m.limit||100;k(t(b,d,1))}else a(q).trigger("UMGDailyMotionLoader.END_LOAD",[e])}function t(a,b,c){var p;"dm_single"==a?p="https://api.dailymotion.com/video/"+b+"?fields=id,thumbnail_60_url,title,description,available_formats":"dm_playlist"==a?p="https://api.dailymotion.com/playlist/"+b+"/videos/?fields=id,thumbnail_60_url,title,description,available_formats&limit=100&page="+c:"dm_channel"==
a?p="https://api.dailymotion.com/channel/"+b+"/videos/?fields=id,thumbnail_60_url,title,description,available_formats&limit=100&page="+c:"dm_custom"==a&&(p=b);return p}function k(b){a.ajax({url:b,dataType:"jsonp"}).done(function(a){if(a.error)C();else{if(a.list){var b,p=a.list.length;if(e.length+p>=c){p=c-e.length;var A=!0}for(b=0;b<p;b++){var g=a.list[b];g.id&&e.push(d(g))}}else e.push(d(a));!A&&a.has_more?(a=a.page+1,b=m.type,p=m.path,"dm_custom"==b&&(p+="&page="+a),k(t(b,p,a))):C()}}).fail(function(a,
b,c){console.log(a,b,c);C()})}function d(b){var c=a.extend(!0,{},m);c.type="dm";c.id=b.id;c.deeplink&&"dm_single"!=c.origtype&&(c.deeplink+=(l+1).toString(),l++);if(b.available_formats){var d=[],p,e=b.available_formats.length;for(p=0;p<e;p++)switch(b.available_formats[p]){case "ld":d.push(240);break;case "sd":d.push(380);break;case "hq":d.push(480);break;case "hd720":d.push(720);break;case "hd1080":d.push(1080)}c.quality=d}if(!c.thumb)if(b.thumbnail_60_url)c.thumb=b.thumbnail_60_url;else for(p=0;p<
z.length;p++)if(b.hasOwnProperty(z[p])){c.thumb=b[z[p]];break}!c.title&&b.title&&(c.title=b.title.replace(/["']/g,""));!c.description&&b.description&&(c.description=b.description.replace(/["']/g,""));c.share||(c.share="http://www.dailymotion.com/video/"+c.id);return c}var q=this,m,c,w=[],e=[],l,z="thumbnail_60_url thumbnail_120_url thumbnail_180_url thumbnail_240_url thumbnail_360_url thumbnail_480_url thumbnail_720_url thumbnail_url".split(" ");this.setData=function(c){"file:"==b.location.protocol?
(console.log("Using Dialymotion locally is not possible! This requires online server connection!"),a(q).trigger("UMGDailyMotionLoader.END_LOAD",[e])):(e=[],w=a.extend(!0,[],[c]),C())}}})(window,jQuery);
(function(b,a){b.UMGWistiaLoader=function(g){function C(){if(c.length){q=c.shift();var b=q.type,k=q.path;e=0;m=q.limit||100;var g=t,f;"wistia_single"==b?f="https://api.wistia.com/v1/medias/"+k+".json?per_page=100&api_password="+l:"wistia_user_videos"==b?f="https://api.wistia.com/v1/medias.json?per_page=100&api_password="+l:"wistia_project"==b&&(f="https://api.wistia.com/v1/projects/"+k+".json?api_password="+l);g(f)}else a(d).trigger("UMGWistiaLoader.END_LOAD",[w])}function t(b){a.ajax({url:b,dataType:"json"}).done(function(a){var b=
q.type;if("wistia_single"==b)w.push(k(a));else if("wistia_user_videos"==b){var c=a.length;w.length+c>=m&&(c=m-w.length);for(b=0;b<c;b++){var p=a[b];w.push(k(p))}}else if("wistia_project"==b)for(c=a.medias.length,w.length+c>=m&&(c=m-w.length),b=0;b<c;b++)p=a.medias[b],w.push(k(p));C()}).fail(function(a,b,c){console.log(a,b,c);C()})}function k(b){var c=a.extend(!0,{},q);c.type="wistia";c.id=b.hashed_id;c.deeplink&&"wistia_single"!=c.origtype&&(c.deeplink+=(e+1).toString(),e++);!c.thumb&&b.thumbnail&&
(c.thumb=b.thumbnail.url);!c.title&&b.name&&(c.title=b.name.replace(/["']/g,""));!c.description&&b.description&&(c.description=b.description.replace(/["']/g,""));return c}var d=this,q,m,c=[],w=[],e,l=g.settings.wistiaAppId;this.setData=function(e){"file:"==b.location.protocol?(console.log("Using Wistia locally is not possible! This requires online server connection!"),a(d).trigger("UMGWistiaLoader.END_LOAD",[w])):(w=[],c=a.extend(!0,[],[e]),C())}}})(window,jQuery);
(function(b,a){b.UMGYoutubeLoader=function(b){function g(){if(c.length){m=c.shift();q=m.type;var b=m.path;l=0;z=1;y=m.limit||200;u=m.order||"relevance";-1==a.inArray(u,f)&&(u="relevance");if("youtube_single"==q||"youtube_single_list"==q)b="https://www.googleapis.com/youtube/v3/videos?id="+b+"&key="+p+"&part=snippet,contentDetails,statistics,status";else if("youtube_playlist"==q)b="https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,status,contentDetails&maxResults=50&playlistId="+b+"&key="+
p;else if("youtube_video_query"==q)b="https://www.googleapis.com/youtube/v3/search?part=id,snippet&type=video&maxResults=50&order="+u+"&q="+(m.query||m.path)+"&key="+p;else if("youtube_channel"==q)e=b,b="https://www.googleapis.com/youtube/v3/search?part=id,snippet&maxResults=50&order=date&channelId="+e+"&key="+p;else{console.log("Wrong youtube type!");return}t(b)}else a(d).trigger("UMGYoutubeLoader.END_LOAD",[w])}function t(b){a.ajax({url:b,dataType:"jsonp"}).done(function(a){a.error&&a.error.message&&
console.log(a.error.message);var b,c=a.items.length,d;c+l>y&&(c=y-l);for(b=0;b<c;b++)(d=a.items[b])&&("youtube_playlist"==q||"youtube_single"==q||"youtube_single_list"==q?"private"!=d.status.privacyStatus&&(d.snippet.title?"Deleted video"!=d.snippet.title:1)&&w.push(k(d,q)):("youtube_video_query"==q||"youtube_channel"==q)&&w.push(k(d,q)));if("youtube_single"==q||"youtube_single_list"==q)g();else if(z+=50,z<y)if(z<=a.pageInfo.totalResults&&a.nextPageToken){b=m.path;if("youtube_playlist"==q)var f="https://www.googleapis.com/youtube/v3/playlistItems?pageToken="+
a.nextPageToken+"&part=snippet,status,contentDetails&maxResults=50&playlistId="+b+"&key="+p;else"youtube_video_query"==q?f="https://www.googleapis.com/youtube/v3/search?pageToken="+a.nextPageToken+"&part=id,snippet&maxResults=50&order="+u+"&q="+b+"&key="+p:"youtube_channel"==q&&(f="https://www.googleapis.com/youtube/v3/search?pageToken="+a.nextPageToken+"&part=id,snippet&maxResults=50&order=date&channelId="+e+"&key="+p);t(f)}else g();else g()}).fail(function(a,b,c){console.log(a,b,c);g()})}function k(a,
b){var c=jQuery.extend(!0,{},m);c.type="youtube";c.deeplink&&"youtube_single"!=c.origtype&&(c.deeplink+=(l+1).toString(),l++);if("youtube_single"==b||"youtube_single_list"==b)c.id=a.id;else if("youtube_playlist"==b)c.id=a.contentDetails.videoId;else if("youtube_video_query"==b||"youtube_channel"==b)c.id=a.id.videoId;c.videoPreview||(c.videoPreview=c.id);!c.title&&a.snippet.title&&(c.title=a.snippet.title);!c.description&&a.snippet.description&&(c.description=a.snippet.description);!c.thumb&&a.snippet.thumbnails&&
(a.snippet.thumbnails.medium?c.thumb=a.snippet.thumbnails.medium.url:a.snippet.thumbnails["default"]?c.thumb=a.snippet.thumbnails["default"].url:a.snippet.thumbnails.standard&&(c.thumb=a.snippet.thumbnails.standard.url));a.statistics&&a.statistics.viewCount&&(c.playback_count=parseInt(a.statistics.viewCount));c.share||(c.share="https://www.youtube.com/watch?v="+c.id);return c}var d=this,q,m,c=[],w=[],e,l,z,y,u,f="date rating relevance title videoCount viewCount".split(" "),p=b.youtubeAppId;this.setData=
function(b){!p||UMGUtils.isEmpty(p)?alert("Youtube API key missing! Set API key in settings."):(w=[],c=a.extend(!0,[],[b]),g())}}})(window,jQuery);
(function(b,a){function g(a,b,g,m){var c={},d=g.width();g=g.height();m=C(b,m);b=m.width;m=m.height;var e=(d-0)/(g-0),k=b/m;k<e?a?(c.width=(g-0)/m*b,c.height=g-0):(c.height=(d-0)/b*m,c.width=d-0):k>e?a?(c.height=(d-0)/b*m,c.width=d-0):(c.width=(g-0)/m*b,c.height=g-0):(c.width=d-0,c.height=g-0);return c}function C(a,b){var d={};"video"==a?b.videoWidth&&b.videoHeight?(d.width=b.videoWidth,d.height=b.videoHeight):b[0]&&b[0].videoWidth&&b[0].videoHeight?(d.width=b[0].videoWidth,d.height=b[0].videoHeight):
(d.width=640,d.height=360):"youtube"==a||"vimeo"==a||"dm"==a||"wistia"==a?b.sw&&b.sh?(d.width=b.sw,d.height=b.sh):(d.width=640,d.height=360):"image"==a&&(d.width=b.width(),d.height=b.height());return d}var t=function(){};t.resizeMedia=function(a,b,q,m){var c,d=q.width();var e=q.height();0==b?c=C(a,m):1==b?c=g(!0,a,q,m):2==b&&(c=g(!1,a,q,m));a=parseInt((d-c.width)/2,10);e=parseInt((e-c.height)/2,10);m.css({width:c.width+"px",height:c.height+"px",left:a+"px",top:e+"px"})};b.UMGAspectRatio=t})(window,
jQuery);
(function(b,a){b.UMGCustomPlayer=function(b){function g(){c&&clearTimeout(c);a(t).trigger("UMGCustomPlayer.END")}var t=this,k=b.settings,d=b.elements.holder,q=b.mediaData,m,c,w,e,l,z=b.settings.autoPlay,y,u,f;this.dispose=function(a){u=null;a&&f&&m&&(u=parseFloat(f-m/1E3),0>u&&(u=0));c&&clearTimeout(c);d.empty().removeClass("umg-visible").hide();l=!1};this.initMedia=function(b){"undefined"!==typeof b&&(q=b,y=q.start||null,f=q.duration||null);a(t).trigger("UMGCustomPlayer.LOAD_START");d.show().addClass("umg-media umg-hidden").load(q.path,function(b,
c,p){"error"==c?(console.log(p.status+" "+p.statusText),a(t).trigger("UMGCustomPlayer.ERROR")):"success"==c&&(d.removeClass("umg-hidden").addClass("umg-visible"),a(t).trigger("UMGCustomPlayer.LOAD_END"),f&&(b=0,u?b=u:y&&(b=y),m=1E3*(f-b),z&&t.play()))}).css("opacity")};this.pause=function(){if(!f)return!1;c&&clearTimeout(c);if(m){var b=(new Date).getTime()-w;m-=b;0>m&&(m=0)}e=!1;a(t).trigger("UMGCustomPlayer.PAUSE")};this.play=function(){if(!f)return!1;c&&clearTimeout(c);m&&(w=(new Date).getTime(),
c=setTimeout(g,m),z=e=!0,l||(l=!0,a(t).trigger("UMGCustomPlayer.START")),a(t).trigger("UMGCustomPlayer.PLAY"))};this.pauseplay=function(){if(!f)return!1;c&&clearTimeout(c);if(m){var a=(new Date).getTime()-w;m-=a;0>m&&(m=0);w=(new Date).getTime();c=setTimeout(g,m)}};this.togglePlayback=function(){if(!f)return!1;e?t.pause():t.play()};this.resize=function(){};this.setVolume=function(){};this.seek=function(b,c){if(!f)return!1;m=1E3*(f-(c?b:b*f));l?e&&t.pauseplay():t.play();a(t).trigger("UMGCustomPlayer.SEEKED")};
this.seekBackward=function(b){if(!f)return!1;m+=1E3*(b||k.seekTime);m>1E3*f&&(m=1E3*f);a(t).trigger("UMGCustomPlayer.SEEKED")};this.seekForward=function(b){if(!f)return!1;m-=1E3*(b||k.seekTime);0>m&&(m=0,g());a(t).trigger("UMGCustomPlayer.SEEKED")};this.getDuration=function(){return f};this.getCurrentTime=function(){if(f&&m){if(e){var a=(new Date).getTime()-w;m-=a;0>m&&(m=0);w=(new Date).getTime()}a=f-m/1E3}return a};this.getTime=function(a){if(q.duration){var b=q.duration;var c=a*b}return[c,b]};
this.getLoadedFraction=function(){return 1};this.getMediaStarted=function(){return l};this.setAutoPlay=function(a){z=a};t.initMedia(q)}})(window,jQuery);
(function(b,a){b.UMGImagePlayer=function(b){function g(a){M=[];L=-1;U=!1;a.slideshow?a.slideshow.length?(M=a.slideshow,U=!0):M.push(a.slideshow):M.push(a);p=m.start||null}function t(){w&&clearTimeout(w);U?a(k).trigger("UMGImagePlayer.END_MULTIPLE"):a(k).trigger("UMGImagePlayer.END")}var k=this,d=b.settings,q=b.elements.holder,m=b.mediaData,c,w,e,l,z,y,u=b.settings.aspectRatio,f=b.settings.autoPlay,p,A,I,L,U,M=[],G;this.dispose=function(a){A=null;a&&I&&c&&(A=parseFloat(I-c/1E3),0>A&&(A=0));w&&clearTimeout(w);
q.empty().removeClass("umg-visible").hide();z=!1};this.initMedia=function(b){"undefined"!==typeof b&&(m=b,g(m));0<q.children().length&&(G=q.children().eq(0));a(k).trigger("UMGImagePlayer.LOAD_START");U?(L++,L>M.length-1&&(L=0)):L=0;I=M[L].duration||null;b=M[L].id;a(new Image).css({position:"absolute",display:"block"}).addClass("umg-media umg-hidden").appendTo(q.show()).on("load",function(){y=a(this);k.resize();G&&G.removeClass("umg-visible").addClass("umg-hidden");y.on("transitionend",function(){G&&
(G.remove(),G=null)}).removeClass("umg-hidden").addClass("umg-visible");a(k).trigger("UMGImagePlayer.LOAD_END");if(I){var b=0;A?b=A:p&&(b=p);c=1E3*(I-b);f&&k.play()}}).on("error",function(b){U?t():a(k).trigger("UMGImagePlayer.LOAD_ERROR")}).attr("src",b)};this.pause=function(){if(!I)return!1;w&&clearTimeout(w);if(c){var b=(new Date).getTime()-e;c-=b;0>c&&(c=0)}l=!1;a(k).trigger("UMGImagePlayer.PAUSE")};this.play=function(){if(!I)return!1;w&&clearTimeout(w);c&&(e=(new Date).getTime(),w=setTimeout(t,
c),f=l=!0,z||(z=!0,a(k).trigger("UMGImagePlayer.START")),a(k).trigger("UMGImagePlayer.PLAY"))};this.pauseplay=function(){if(!I)return!1;w&&clearTimeout(w);if(c){var a=(new Date).getTime()-e;c-=a;0>c&&(c=0);e=(new Date).getTime();w=setTimeout(t,c)}};this.togglePlayback=function(){if(!I)return!1;l?k.pause():k.play()};this.resize=function(){y&&UMGAspectRatio.resizeMedia("image",u,q,y)};this.setVolume=function(){};this.seek=function(b,d){if(!I)return!1;c=1E3*(I-(d?b:b*I));z?l&&k.pauseplay():k.play();
a(k).trigger("UMGImagePlayer.SEEKED")};this.seekBackward=function(b){if(!I)return!1;c+=1E3*(b||d.seekTime);c>1E3*I&&(c=1E3*I);a(k).trigger("UMGImagePlayer.SEEKED")};this.seekForward=function(b){if(!I)return!1;c-=1E3*(b||d.seekTime);0>c&&(c=0,t());a(k).trigger("UMGImagePlayer.SEEKED")};this.getDuration=function(){return I};this.getCurrentTime=function(){if(I&&c){if(l){var a=(new Date).getTime()-e;c-=a;0>c&&(c=0);e=(new Date).getTime()}a=I-c/1E3}return a};this.getTime=function(a){if(m.duration){var b=
m.duration;var c=a*b}return[c,b]};this.getLoadedFraction=function(){return 1};this.getMediaStarted=function(){return z};this.setAutoPlay=function(a){f=a};k.initMedia(m)}})(window,jQuery);
(function(b,a){b.UMGAudioPlayer=function(b){function g(){var b=d.id;f||(w=a(document.createElement("audio")).attr("preload",m),e=w[0],f=!0);k.show();e.src=b;e.volume=c;w.on("ended",function(){a(t).trigger("UMGAudioPlayer.END")}).on("canplay",function(a){}).on("canplaythrough",function(a){}).on("loadedmetadata",function(){u&&(e.playbackRate=Number(u));y?e.currentTime=y:z&&(e.currentTime=z);var b=e.play();void 0!==b&&b.then(function(a){})["catch"](function(b){a(t).trigger("UMGAudioPlayer.PAUSE")});
l=!0;a(t).trigger("UMGAudioPlayer.LOADED_METADATA",{paused:e.paused})}).on("play",function(){a(t).trigger("UMGAudioPlayer.PLAY")}).on("playing",function(b){a(t).trigger("UMGAudioPlayer.PLAYING")}).on("pause",function(){a(t).trigger("UMGAudioPlayer.PAUSE")}).on("seeked",function(b){a(t).trigger("UMGAudioPlayer.SEEKED")}).on("ratechange",function(){a(t).trigger("UMGAudioPlayer.PLAYBACK_RATE_CHANGE",e.playbackRate)}).on("error",function(b){switch(b.target.error.code){case b.target.error.MEDIA_ERR_ABORTED:console.log("You aborted the audio playback.");
break;case b.target.error.MEDIA_ERR_NETWORK:console.log("A network error caused the audio download to fail part-way.");break;case b.target.error.MEDIA_ERR_DECODE:console.log("The audio playback was aborted due to a corruption problem or because the audio used features your browser did not support.");break;case b.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.log("The audio could not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.log("An unknown error occurred.")}a(t).trigger("UMGAudioPlayer.ERROR")});
q&&e.load();q=!0}var t=this,k=b.elements.holder,d=b.mediaData,q=b.settings.autoPlay,m=b.settings.preload,c=b.settings.volume,w,e,l,z,y,u,f;this.initMedia=function(a){"undefined"!==typeof a&&(d=a);z=d.start||null;u=d.playbackRate||null;g()};this.dispose=function(a){y=null;a&&e&&(y=e.currentTime);e&&(e.pause(),e.src="");w&&w.off("ended pause play playing canplay canplaythrough loadedmetadata error ratechange seeked");k.hide();l=!1};this.setVolume=function(a){0>a?a=0:1<a&&(a=1);c=a;e&&(e.volume=a,e.muted=
0==a?!0:!1)};this.seek=function(a,b){if(e&&l){var c=b?a:(a*e.duration).toFixed(1);try{e.currentTime=c}catch(L){console.log(L)}}};this.seekBackward=function(a){if(e)try{e.currentTime=Math.max(e.currentTime-(a||settings.seekTime),0)}catch(A){console.log(A)}};this.seekForward=function(a){if(e)try{e.currentTime=Math.min(e.currentTime+(a||settings.seekTime),e.duration)}catch(A){console.log(A)}};this.togglePlayback=function(){if(l||q)if(e.paused){var b=e.play();void 0!==b&&b.then(function(a){})["catch"](function(b){a(t).trigger("UMGAudioPlayer.PAUSE")})}else e.pause();
else g()};this.play=function(){if(e){var b=e.play();void 0!==b&&b.then(function(a){})["catch"](function(b){a(t).trigger("UMGAudioPlayer.PAUSE")})}};this.pause=function(){e&&e.pause()};this.getCurrentTime=function(){if(e)try{var a=e.currentTime}catch(A){}return a};this.getDuration=function(){if(e)var a=e.duration;return a};this.getTime=function(a){if(e){var b=e.duration;var c=a*b}return[c,b]};this.getLoadedFraction=function(){var a;if(e&&"undefined"!==typeof e.buffered&&0!=e.buffered.length){try{var b=
e.buffered.end(e.buffered.length-1)}catch(I){}isNaN(b)||(a=b/Math.floor(e.duration))}return a};this.resize=function(){};this.getAudio=function(){return w||null};this.getAudioUp2Js=function(){return e||null};this.setPlaybackRate=function(a){if(e)try{e.playbackRate=Number(a)}catch(A){console.log(A)}};this.getPlaybackRate=function(a){if(e)return e.playbackRate};this.getMediaStarted=function(){return l};this.setAutoPlay=function(a){q=a};setTimeout(function(){clearTimeout(this);t.initMedia()},10)}})(window,
jQuery);
(function(b,a){b.UMGVideoPlayer=function(b){function g(){var b=A.id;c&&(b+="?rand="+99999999*Math.random());if(p)l.addClass("umg-hidden").show(),u=l.find(".umg-media"),f=u[0],f.src=b,f.load();else{var e='<video class="umg-media" preload="'+U+'" playsinline>';e=e+('<source src="'+b+'" />')+"</video>";l.addClass("umg-hidden").show().html(e);u=l.find(".umg-media");f=u[0];m&&q.forceMobileAutoplay&&(a(d).trigger("UMGVideoPlayer.SET_VOLUME",0),f.muted=!0)}u.find("source").off("error").on("error",function(b){console.log("Error loading: "+
b.target.src);a(d).trigger("UMGVideoPlayer.ERROR")});f.volume=M;u.css("position","absolute").on("ended",function(){a(d).trigger("UMGVideoPlayer.END")}).on("loadedmetadata",function(){G=!0;d.resize();da&&(f.playbackRate=Number(da));O?f.currentTime=O:R&&(f.currentTime=R);var b=f.play();void 0!==b&&b.then(function(a){})["catch"](function(b){a(d).trigger("UMGVideoPlayer.PAUSE")});L=!0;l.removeClass("umg-hidden").addClass("umg-visible");a(d).trigger("UMGVideoPlayer.LOADED_METADATA");u.find("source").remove()}).on("waiting",
function(){a(d).trigger("UMGVideoPlayer.WAITING")}).on("playing",function(){a(d).trigger("UMGVideoPlayer.PLAYING")}).on("play",function(){a(d).trigger("UMGVideoPlayer.PLAY")}).on("pause",function(){a(d).trigger("UMGVideoPlayer.PAUSE")}).on("seeked",function(){a(d).trigger("UMGVideoPlayer.SEEKED")}).on("ratechange",function(){a(d).trigger("UMGVideoPlayer.PLAYBACK_RATE_CHANGE",f.playbackRate)}).on("error",function(b){switch(b.target.error.code){case b.target.error.MEDIA_ERR_ABORTED:console.log("You aborted the video playback.");
break;case b.target.error.MEDIA_ERR_NETWORK:console.log("A network error caused the video download to fail part-way.");break;case b.target.error.MEDIA_ERR_DECODE:console.log("The video playback was aborted due to a corruption problem or because the video used features your browser did not support.");break;case b.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:console.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");break;default:console.log("An unknown error occurred.")}a(d).trigger("UMGVideoPlayer.ERROR")});
c&&!p?(f.src=b,f.load()):w&&!p&&(b=f.play(),void 0!==b&&b.then(function(a){t()})["catch"](function(b){a(d).trigger("UMGVideoPlayer.PAUSE")}),G=!0);p=!0}function t(){y&&y.stop().animate({opacity:0},{duration:500,complete:function(){a(this).remove();z.hide()}});a(d).trigger("UMGVideoPlayer.POSTER_OFF")}function k(b){a(d).trigger("UMGVideoPlayer.POSTER_LOAD_START");b?a(new Image).css({position:"absolute",display:"block"}).addClass("umg-media umg-hidden").appendTo(z.show()).on("load",function(){y=a(this);
d.resize();y.removeClass("umg-hidden").addClass("umg-visible");a(d).trigger("UMGVideoPlayer.POSTER_LOAD_END")}).on("error",function(a){console.log(a)}).attr("src",b):(z.show(),a(d).trigger("UMGVideoPlayer.POSTER_LOAD_END"))}var d=this,q=b.settings,m=UMGUtils.isMobile(),c=UMGUtils.isIOS(),w=UMGUtils.isAndroid(),e=b.elements.mediaHolder,l=b.elements.videoHolder,z=b.elements.videoPoster,y,u,f,p,A=b.mediaData,I=q.aspectRatio,L=q.autoPlay,U=q.preload||"auto",M=q.volume,G,R,O,da;m&&q.forceMobileAutoplay&&
(L=!0,M=0);this.initMedia=function(a){"undefined"!==typeof a&&(A=a);R=A.start||null;da=A.playbackRate||null;l.show();L?g():k(A.poster)};this.dispose=function(a){O=null;a&&f&&(O=f.currentTime);if(f){f.pause();try{f.currentTime=0}catch(P){}f.src=""}f=null;u&&u.off("ended loadedmetadata waiting playing play pause error ratechange seeked");l.removeClass("umg-visible").addClass("umg-hidden").hide();m||(l.html(""),p=!1);y&&(y.remove(),y=null);z.hide();G=!1};this.setVolume=function(a){0>a?a=0:1<a&&(a=1);
M=a;f&&(f.volume=a,f.muted=0==a?!0:!1)};this.seek=function(a,b){if(f&&G){var c=b?a:(a*f.duration).toFixed(1);try{f.currentTime=c}catch(ja){console.log(ja)}}};this.seekBackward=function(a){if(f)try{f.currentTime=Math.max(f.currentTime-(a||q.seekTime),0)}catch(P){console.log(P)}};this.seekForward=function(a){if(f)try{f.currentTime=Math.min(f.currentTime+(a||q.seekTime),f.duration)}catch(P){console.log(P)}};this.play=function(){var b=f.play();void 0!==b&&b.then(function(a){})["catch"](function(b){a(d).trigger("UMGVideoPlayer.PAUSE")})};
this.pause=function(){f&&f.pause()};this.togglePlayback=function(){if(G||L)if(f.paused){var b=f.play();void 0!==b&&b.then(function(a){})["catch"](function(b){a(d).trigger("UMGVideoPlayer.PAUSE")})}else f.pause();else t(),g()};this.getCurrentTime=function(){if(f)try{var a=f.currentTime}catch(P){}return a};this.getDuration=function(){if(f)var a=f.duration;return a};this.getTime=function(a){if(f){var b=f.duration;var c=a*b}return[c,b]};this.getLoadedFraction=function(){var a;if(f&&"undefined"!==typeof f.buffered&&
0!=f.buffered.length){try{var b=f.buffered.end(f.buffered.length-1)}catch(ea){}isNaN(b)||(a=b/Math.floor(f.duration))}return a};this.getVideoUp2Js=function(){return f};this.setPlaybackRate=function(a){if(f)try{f.playbackRate=Number(a)}catch(P){console.log(P)}};this.getPlaybackRate=function(a){if(f)return f.playbackRate};this.resize=function(){G?UMGAspectRatio.resizeMedia("video",I,e,u):y&&UMGAspectRatio.resizeMedia("image",I,e,y)};this.getMediaStarted=function(){return G};this.setAutoPlay=function(a){L=
a};setTimeout(function(){clearTimeout(this);d.initMedia()},10)}})(window,jQuery);
(function(b,a){b.UMGYoutubePlayer=function(g){function C(b){U=!0;G||(c.setVolume(100*A),u.width&&u.height&&m.resize(),l&&y.forceMobileAutoplay&&(a(m).trigger("UMGYoutubePlayer.SET_VOLUME",0),c.mute()),p&&c.playVideo(),a(m).trigger("UMGYoutubePlayer.READY"))}function t(b){a(m).trigger("UMGYoutubePlayer.QUALITY_CHANGE",[b.data])}function k(b){a(m).trigger("UMGYoutubePlayer.PLAYBACK_RATE_CHANGE",[b.data])}function d(b){M?(M=!1,c.stopVideo(),a(m).trigger("UMGYoutubePlayer.FORCE_MAIN_STOP")):-1!=b.data&&
(0==b.data?(a(m).trigger("UMGYoutubePlayer.END"),c.playVideo()):1==b.data?(G&&c.stopVideo(),p=!0,f||(va?c.setPlaybackQuality(c.getAvailableQualityLevels()[c.getAvailableQualityLevels().length-1]):O&&c.setPlaybackQuality(O),1<c.getAvailablePlaybackRates().length&&a(m).trigger("UMGYoutubePlayer.AVAILABLE_PLAYBACK_RATE",{available_playback_rate:c.getAvailablePlaybackRates(),current_playback_rate:c.getPlaybackRate()}),da&&c.setPlaybackRate(Number(da)),a(m).trigger("UMGYoutubePlayer.START"),f=!0),R&&(R=
!1,a(m).trigger("UMGYoutubePlayer.SEEKED")),a(m).trigger("UMGYoutubePlayer.PLAY")):2==b.data?a(m).trigger("UMGYoutubePlayer.PAUSE"):3!=b.data&&5==b.data&&a(m).trigger("UMGYoutubePlayer.CUED"))}function q(b){switch(b.data){case 2:console.log("Error code = "+b.data+": The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.");break;
case 100:console.log("Error code = "+b.data+": Video not found, removed, or marked as private");break;case 101:console.log("Error code = "+b.data+": Embedding disabled for this video");break;case 150:console.log("Error code = "+b.data+": Video not found, removed, or marked as private [same as error 100]")}a(m).trigger("UMGYoutubePlayer.ERROR",[b.data])}var m=this,c,w=g.elements.mediaHolder,e=g.elements.holder,l=UMGUtils.isMobile(),z=UMGUtils.isiPhoneIpod(),y=g.settings,u=g.mediaData,f,p=y.autoPlay,
A=y.volume,I=y.aspectRatio,L,U,M,G,R;if(u.quality)var O=u.quality;if(u.playbackRate)var da=u.playbackRate;if(u.small_embed){var va=!0;p=!0;A=0}l&&y.forceMobileAutoplay&&(p=!0,A=0);g="https:"==b.location.protocol?"https:":"http:";var P="ytplayer"+Math.floor(16777215*Math.random()),ea=g+"//www.youtube.com/embed/"+u.id+"?controls=0&amp;rel=0&amp;showinfo=0&amp;enablejsapi=1&amp;playsinline=1&amp;theme=dark&amp;modestbranding=0&amp;wmode=transparent";UMGUtils.isEmpty(b.location.host)||"https:"!=b.location.protocol&&
"http:"!=b.location.protocol||(ea+="&amp;origin="+(g+"//"+b.location.host));u.start&&(ea+="&amp;start="+u.start);u.end&&(ea+="&amp;end="+u.end);var ja=a("<iframe/>",{id:P,frameborder:0,src:ea,width:"100%",height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0});e.show().append(ja);g=document.createElement("script");g.src="https://www.youtube.com/iframe_api";ea=document.getElementsByTagName("script")[0];ea.parentNode.insertBefore(g,ea);b.onYouTubeIframeAPIReady=function(){c=
new YT.Player(P,{events:{onReady:C,onPlaybackQualityChange:t,onPlaybackRateChange:k,onStateChange:d,onError:q}})};this.dispose=function(){M=!0;c&&c.stopVideo();R=!1;e&&(e.addClass("umg-force-hidden"),e.css({width:"100%",height:"100%",top:0,left:0}));f=!1};this.clean=function(a){"undefined"!==typeof a&&(G=!0);R=!1;c&&(c.stopVideo(),c=null);ja&&(ja.attr("src",""),ja.remove(),ja=null);e&&e.empty().hide();f=!1};this.stopPreview=function(){G=!0};this.initMedia=function(a){u=a;R=G=M=!1;e.removeClass("umg-force-hidden");
U?c&&(O=u.quality||"default",da=u.playbackRate,l&&z&&(c.isMuted()||(p=!1)),p?c.loadVideoById({videoId:u.id,startSeconds:u.start,endSeconds:u.end,suggestedQuality:O}):c.cueVideoById({videoId:u.id,startSeconds:u.start,endSeconds:u.end,suggestedQuality:O}),u.width&&u.height&&m.resize()):L||(L=setInterval(function(){U&&(L&&clearInterval(L),M||m.initMedia(u))},100))};this.stop=function(){M=!0;c&&c.stopVideo();R=!1};this.play=function(){c&&c.playVideo()};this.pause=function(){c&&c.pauseVideo()};this.togglePlayback=
function(a){c&&(void 0==a?(a=c.getPlayerState(),1==a?c.pauseVideo():2==a?c.playVideo():(-1==a||5==a||0==a)&&c.playVideo()):a?c.playVideo():c.pauseVideo())};this.seek=function(a,b){if(c){R=!0;var d=b?a:(a*c.getDuration()).toFixed(1);c.seekTo(d)}};this.seekBackward=function(a){c&&(a=Math.max(c.getCurrentTime()-(a||y.seekTime),0),c.seekTo(a))};this.seekForward=function(a){c&&(a=Math.min(c.getCurrentTime()+(a||y.seekTime),c.getDuration()),c.seekTo(a))};this.getCurrentTime=function(){if(c)return c.getCurrentTime()};
this.getDuration=function(){if(c)return c.getDuration()};this.getTime=function(a){if(c){var b=c.getDuration();var d=a*b}return[d,b]};this.getLoadedFraction=function(){if(c)return c.getVideoLoadedFraction()};this.setVolume=function(a){0>a?a=0:1<a&&(a=1);A=a;c&&(c.setVolume(100*a),0==a?c.mute():c.unMute())};this.getPlayerState=function(){if(c)return c.getPlayerState()};this.getAvailableQualityLevels=function(){return c.getAvailableQualityLevels()};this.getPlaybackQuality=function(){return c.getPlaybackQuality()};
this.setPlaybackQuality=function(a){c.pauseVideo();c.setPlaybackQuality(a);c.playVideo()};this.setPlaybackRate=function(a){c&&c.setPlaybackRate(Number(a))};this.getPlaybackRate=function(){if(c)return c.getPlaybackRate()};this.getMediaStarted=function(){return f};this.setAutoPlay=function(a){p=a};this.resize=function(){u.width&&u.height&&(e.sw=u.width,e.sh=u.height,UMGAspectRatio.resizeMedia("youtube",I,w,e))}}})(window,jQuery);
(function(b,a){b.UMGVimeoPlayer=function(g){function C(){l.getDuration().then(function(a){G=a})["catch"](function(a){});l.on("play",t);l.on("pause",k);l.on("loadProgress",d);l.on("playProgress",q);l.on("seek",m);l.on("finish",c);l.on("error",w);a(e).trigger("UMGVimeoPlayer.LOADED_METADATA");p&&l.play()}function t(){p=L=!0;U||(a(e).trigger("UMGVimeoPlayer.START"),va&&l.setCurrentTime(va),U=!0);a(e).trigger("UMGVimeoPlayer.PLAY")}function k(){L=!1;a(e).trigger("UMGVimeoPlayer.PAUSE")}function d(a){R=
a.percent}function q(a){M=a.seconds;G=a.duration}function m(){a(e).trigger("UMGVimeoPlayer.SEEKED")}function c(){a(e).trigger("UMGVimeoPlayer.END")}function w(b){a(e).trigger("UMGVimeoPlayer.ERROR")}var e=this,l,z=g.settings,y=g.elements.mediaHolder,u=g.elements.holder,f=g.mediaData,p=g.settings.autoPlay,A=g.settings.volume,I=g.settings.aspectRatio,L,U,M=0,G=0,R=0,O,da;if(f.start)var va=f.start;if(f.quality)var P=f.quality;g="player"+Math.floor(16777215*Math.random());var ea="//player.vimeo.com/video/"+
f.id+"?api=1&color=00adef&badge=0&byline=0&portrait=0&title=0&autopause=0";P&&(ea+="&quality="+P);var ja=a("<iframe/>",{id:g,frameborder:0,src:ea,width:"100%",height:"100%",webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0});u.show().append(ja);P=document.createElement("script");P.src="//player.vimeo.com/api/player.js";g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(P,g);var Xa=setInterval(function(){b.Vimeo&&(Xa&&clearInterval(Xa),l=new Vimeo.Player(ja[0]),
l.setVolume(A),l.on("loaded",C),Promise.all([l.getVideoWidth(),l.getVideoHeight()]).then(function(a){O=a[0];da=a[1]}),f.width&&f.height&&e.resize(),a(e).trigger("UMGVimeoPlayer.READY"))},100);this.initMedia=function(a){l&&(f=a,va=f.start||null,u.show(),l.loadVideo(f.id),f.width&&f.height&&e.resize())};this.play=function(){l&&l.play()};this.pause=function(){l&&l.pause()};this.togglePlayback=function(){l&&(L?l.pause():l.play(),L=!L)};this.seek=function(a,b){l&&l.setCurrentTime(b?a:a*G)};this.seekBackward=
function(a){l&&l.setCurrentTime(Math.max(M-(a||z.seekTime),0))};this.seekForward=function(a){l&&l.setCurrentTime(Math.min(M+(a||z.seekTime),G))};this.getCurrentTime=function(){return M};this.getDuration=function(){return G};this.getTime=function(a){var b=G;return[a*b,b]};this.getLoadedFraction=function(){return R};this.getMediaStarted=function(){return U};this.setVolume=function(a){0>a?a=0:1<a&&(a=1);A=a;l&&l.setVolume(a)};this.dispose=function(){l&&(l.off("finish"),l.off("play"),l.off("pause"),l.off("onLoadProgress"),
l.off("onPlayProgress"),l.off("seek"),l.off("error"),l.unload());u.hide();u.css({width:"100%",height:"100%",top:0,left:0});R=G=M=0;U=!1;da=O=null};this.setAutoPlay=function(a){p=a};this.getSize=function(a){return O&&da?[O,da]:!1};this.resize=function(){f.width&&f.height&&(u.sw=f.width,u.sh=f.height,UMGAspectRatio.resizeMedia("vimeo",I,y,u))}}})(window,jQuery);
(function(b,a){b.UMGDmPlayer=function(g){var C=this,t,k,d,q=g.settings,m=g.settings.autoPlay,c=g.settings.volume,w=g.settings.aspectRatio,e=g.elements.mediaHolder,l=g.elements.dispose_holder,z=g.elements.holder,y=g.mediaData,u=380,f;if(y.start)var p=y.start;y.quality&&(u=y.quality);g=a("<iframe/>",{id:"dmplayer"+Math.floor(16777215*Math.random()),frameborder:0,src:function(a){a="http://www.dailymotion.com/embed/video/"+a;y.start&&(a+="?amp;start="+y.start);return a}(y.id),width:"100%",height:"100%",
webkitAllowFullScreen:!0,mozallowfullscreen:!0,allowFullScreen:!0});l.show();z.show().append(g);g=document.createElement("script");g.async=!0;g.src="//api.dmcdn.net/all.js";var A=document.getElementsByTagName("script")[0];A.parentNode.insertBefore(g,A);b.dmAsyncInit=function(){DM.player(z[0],{video:y.id,width:"100%",height:"100%",params:{quality:u,"ui-logo":!1,"ui-theme":"dark","ui-start-screen-info":!1,controls:!1,"endscreen-enable":!1,"sharing-enable":!1}}).addEventListener("apiready",function(b){d=
b.target;t=!0;d.addEventListener("loadedmetadata",function(b){a(C).trigger("UMGDmPlayer.LOADED_METADATA")});d.addEventListener("play",function(b){a(C).trigger("UMGDmPlayer.PLAY")});d.addEventListener("playing",function(b){k||(k=!0,d.setVolume(c),p&&d.seek(p),a(C).trigger("UMGDmPlayer.START"))});d.addEventListener("pause",function(b){a(C).trigger("UMGDmPlayer.PAUSE")});d.addEventListener("end",function(b){a(C).trigger("UMGDmPlayer.END")});d.addEventListener("error",function(b,c,d){a(C).trigger("UMGDmPlayer.ERROR")});
d.addEventListener("qualitychange",function(b){a(C).trigger("UMGDmPlayer.QUALITY_CHANGE",[d.quality])});d.addEventListener("seeked",function(b){a(C).trigger("UMGDmPlayer.SEEKED")});y.width&&y.height&&C.resize();a(C).trigger("UMGDmPlayer.READY");m&&d.play()})};this.initMedia=function(a){y=a;l.show();p=y.start||null;t?d&&(d.load(y.id),y.width&&y.height&&C.resize()):f||(f=setInterval(function(){t&&(f&&clearInterval(f),C.load(y))},100))};this.play=function(){d&&d.play()};this.pause=function(){d&&d.pause()};
this.togglePlayback=function(){d&&d.togglePlay()};this.seek=function(a,b){d&&d.seek(b?a:a*d.duration)};this.seekBackward=function(a){d&&d.seek(Math.max(d.currentTime-(a||q.seekTime),0))};this.seekForward=function(a){d&&d.seek(Math.min(d.currentTime+(a||q.seekTime),d.duration))};this.getAvailableQualityLevels=function(){if(d)return d.qualities};this.setPlaybackQuality=function(a){d&&d.setQuality(a)};this.getPlaybackQuality=function(){if(d)return d.quality};this.getCurrentTime=function(){if(d)return d.currentTime};
this.getDuration=function(){if(d)return d.duration};this.getTime=function(a){if(d){var b=d.duration;var c=a*b}return[c,b]};this.getLoadedFraction=function(){if(d)return d.bufferedTime/d.duration};this.setVolume=function(a){0>a?vol=0:1<a&&(a=1);d&&d.setVolume(a)};this.dispose=function(){f&&clearInterval(f);d&&k&&d.pause();l.hide();z.css({width:"100%",height:"100%",top:0,left:0});k=!1};this.setAutoPlay=function(a){m=a};this.resize=function(){y.width&&y.height&&(z.sw=y.width,z.sh=y.height,UMGAspectRatio.resizeMedia("dm",
w,e,z))}}})(window,jQuery);
(function(b,a){b.UMGWistiaPlayer=function(g){var C=this,t,k,d=g.settings,q=g.settings.autoPlay,m=g.settings.volume,c=g.elements.mediaHolder,w,e=g.mediaData,l=0,z,y,u=[];g=document.createElement("script");g.async=!0;g.src="//fast.wistia.com/assets/external/E-v1.js";var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(g,f);b._wq=b._wq||[];b.wistiaInit=function(a){a.options({playerColor:"ad3",controlsVisibleOnLoad:!1,fullscreenButton:!1,playbar:!1,playButton:!1,preload:"auto",settingsControl:!1,
smallPlayButton:!1,volumeControl:!1});C.initMedia(e)};this.initMedia=function(b){e=b;z=e.start||null;y=e.playbackRate||null;b="wistia_async_"+e.id;w=a('<div class="umg-wistia-holder wistia_embed"></div>').addClass(b);c.show().prepend(w);w.show();if(-1!=u.indexOf(e.id))var d=setInterval(function(){Wistia.api(e.id)&&(clearInterval(d),k=Wistia.api(e.id),console.log(k),C.initMedia2(k))},100);else _wq.push({id:e.id,onReady:function(a){k=a;u.push(e.id);C.initMedia2(k)}})};this.initMedia2=function(b){b.unbind("play");
b.unbind("pause");b.unbind("end");b.unbind("timechange");b.unbind("seek");b.unbind("playbackratechange");b.bind("play",function(){a(C).trigger("UMGWistiaPlayer.PLAY");t||(t=!0,b.volume(m),y&&b.playbackRate(Number(y)),z&&b.time(z),w.find(".w-control-bar").remove(),a(C).trigger("UMGWistiaPlayer.START"))}).bind("pause",function(){a(C).trigger("UMGWistiaPlayer.PAUSE")}).bind("end",function(){a(C).trigger("UMGWistiaPlayer.END")}).bind("timechange",function(a){l=a}).bind("seek",function(b,c){a(C).trigger("UMGWistiaPlayer.SEEKED")}).bind("playbackratechange",
function(b){a(C).trigger("UMGWistiaPlayer.PLAYBACK_RATE_CHANGE",b)});e.width&&e.height&&C.resize();a(C).trigger("UMGWistiaPlayer.READY");q&&b.play()};this.play=function(){k&&k.play()};this.pause=function(){k&&k.pause()};this.togglePlayback=function(){k&&("playing"==k.state()?k.pause():("paused"==k.state()||"beforeplay"==k.state())&&k.play())};this.seek=function(a,b){if(k){var c=b?a:a*k.duration();k.time(c)}};this.seekBackward=function(a){k&&k.time(Math.max(l-(a||d.seekTime),0))};this.seekForward=
function(a){k&&(a=Math.min(l+(a||d.seekTime),k.duration()),k.time(a))};this.getCurrentTime=function(){return l};this.getDuration=function(){if(k)return k.duration()};this.getTime=function(a){if(k){var b=k.duration();var c=a*b}return[c,b]};this.getLoadedFraction=function(){};this.getPlaybackRate=function(){if(k)return k.playbackRate()};this.setPlaybackRate=function(a){k&&k.playbackRate(Number(a))};this.setVolume=function(a){0>a?vol=0:1<a&&(a=1);k&&k.volume(a)};this.dispose=function(){k&&(k.unbind("play"),
k.unbind("pause"),k.unbind("end"),k.unbind("timechange"),k.unbind("seek"),k.unbind("playbackratechange"),k.remove(),k=null);w.remove();a(".wistia_injected_style").remove();l=0;t=!1};this.setAutoPlay=function(a){q=a};this.resize=function(){e.width&&e.height&&(w.sw=e.width,w.sh=e.height,UMGAspectRatio.resizeMedia("wistia",aspectRatio,c,w))}}})(window,jQuery);
(function(b){b.fn.umg=function(a){function g(){Wb.off("click.apcc",g);ub.hide()}function C(a){if(b(a.target).hasClass("umg-embed-code"))return!0;a.preventDefault();a.stopPropagation();var h=x[0].getBoundingClientRect(),c=ub.outerWidth(!0),d=ub.outerHeight(!0),e=parseInt(a.pageX-Ya.scrollLeft()-h.left,10);a=parseInt(a.pageY-Ya.scrollTop()-h.top,10);e>x.width()-c&&(e-=c);a>x.height()-d&&(a-=d);ub.css({left:e+"px",top:a+"px"}).show();Wb.one("click.apcc",g)}function t(a){if(B){if(!vb){if("touchstart"==
a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();vb=!0;V.on(oa,function(a){a:{if("touchmove"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();k(b)}}).on(Ia,function(a){a:if(vb){vb=!1;V.off(oa).off(Ia);if("touchend"==a.type){if(a.originalEvent.touches&&
a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();k(b)}})}return!1}}function k(a){if(!r)return!1;a=a.pageX-Za.offset().left;0>a?a=0:a>S&&(a=S);r.seek(Math.max(0,Math.min(1,a/S)))}function d(a){return r?r.getTime(Math.max(0,Math.min(1,a/S))):!1}function q(a){var b=a.pageX-Za.offset().left;if(!UMGUtils.isNumber(b))return!1;
0>b?b=0:b>S&&(b=S);b=Math.max(0,Math.min(1,b/S));if(!UMGUtils.isNumber(b))return!1;var h=x[0].getBoundingClientRect(),c=Qa[0].getBoundingClientRect();a=parseInt(a.pageX-Ya.scrollLeft()-h.left-H.outerWidth()/2);h="top"==yc?parseInt(c.top-h.top+Qa.outerHeight()+10,10):parseInt(c.top-h.top-H.outerHeight(),10);0>a?a=0:a+H.outerWidth()>x.width()&&(a=x.width()-H.outerWidth());H.css({left:a+"px",top:h+"px"}).show();a=r.getDuration();UMGUtils.isNumber(a)&&H.find("p").html(UMGUtils.formatCurrentTime(a*b)+
" / "+UMGUtils.formatDuration(a))}function m(a){if(B){if(!wb){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();wb=!0;V.on(oa,function(a){a:{if("touchmove"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();w(b)}}).on(Ia,
function(a){a:if(wb){wb=!1;V.off(oa).off(Ia);if("touchend"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();w(b)}})}return!1}}function c(){if(!B)return!1;0<N?(Xb=N,N=0):N=Xb;e()}function w(a){Ra?N=Math.max(0,Math.min(1,(a.pageX-$a.offset().left)/ab)):(N=Math.max(0,Math.min(1,
(a.pageY-$a.offset().top)/ab)),N=1-N);e()}function e(b){"undefined"!==typeof b&&(N=b);"undefined"!==typeof N&&(a.volume=N,r&&r.setVolume(N));ad.css(Ra?"width":"height",N*ab+"px");0==N?(xb.find("i").removeClass("fa-volume-up fa-volume-down").addClass("fa-volume-off"),Yb.find("span").html("UnMute")):0<N&&.5>N?(xb.find("i").removeClass("fa-volume-off fa-volume-up").addClass("fa-volume-down"),Yb.find("span").html("Mute")):.5<=N&&1>=N&&(xb.find("i").removeClass("fa-volume-off fa-volume-down").addClass("fa-volume-up"),
Yb.find("span").html("Mute"))}function l(a){var b=Ra?a.pageX-$a.offset().left:a.pageY-$a.offset().top;0>b?b=0:b>ab&&(b=ab);b=Math.max(0,Math.min(1,b/ab));if(!UMGUtils.isNumber(b))return!1;Ra||(b=1-b);b=parseInt(100*b,10);H.find("p").text(b+" %");var h=x[0].getBoundingClientRect(),c=xa[0].getBoundingClientRect();Ra?(b=parseInt(a.pageX-Ya.scrollLeft()-h.left-H.outerWidth()/2),a=parseInt(c.top-h.top-H.outerHeight())):(b=parseInt(c.left-h.left-H.outerWidth()/2+xa.outerWidth()/2),a=parseInt(a.pageY-Ya.scrollTop()-
h.top-H.outerHeight()-10));H.css({left:b+"px",top:a+"px"}).show()}function z(a){if(B){if(!lb){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();lb=!0;V.on(oa,function(a){a:{if("touchmove"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;
a.preventDefault();y(b)}}).on(Ia,function(a){a:if(lb){lb=!1;V.off(oa).off(Ia);Zb.hide();if("touchend"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();y(b);H.hide()}})}return!1}}function y(a){var b=a.pageX-Za.offset().left;if(Sa.hasClass("umg-range-handle-a")){0>b&&(b=0);
b>parseInt(Y.css("left"),10)+Y.outerWidth()-10&&(b=parseInt(Y.css("left"),10)+Y.outerWidth()-10);var h=d(b);ya=h[0]}else Sa.hasClass("umg-range-handle-b")&&(b>S-Sa.outerWidth()&&(b=S-Sa.outerWidth()),b<parseInt(ua.css("left"),10)-ua.outerWidth()+10&&(b=parseInt(ua.css("left"),10)-ua.outerWidth()+10),h=d(b+Y.outerWidth()),Ja=h[0]);UMGUtils.isNumber(h[0])&&UMGUtils.isNumber(h[1])&&I(a,h,Sa);Sa.css("left",b+"px")}function u(a){if("undefined"!==typeof a){if(za&&1==a||!za&&0==a)return!1;za=!a}if(za)ua.hide(),
Y.hide(),ka=!0;else{ua.show();Y.show();a=parseInt(ua.css("left"),10);var b=parseInt(Y.css("left"),10)+Y.outerWidth();ya=d(a)[0];Ja=d(b)[0];ka=!1}za=!za}function f(){ua.css("left","0px").hide();Y.css("left",S-Y.outerWidth()+"px").hide();Zb.hide();za=!1;ka=!0}function p(a,b){var h=D.getDuration();if("undefined"===typeof h||0==h)return!1;0>a&&(a=0);b>h&&(b=h);ya=a;Ja=b;ka=!1;ua.css("left",ya/h*S+"px");Y.css("left",Ja/h*S-Y.outerWidth()+"px");za||u()}function A(){var a=D.getDuration();"undefined"!==typeof a&&
(ua.css("left",ya/a*S+"px"),Y.css("left",Ja/a*S-Y.outerWidth()+"px"))}function I(a,b,c){H.find("p").html(UMGUtils.formatCurrentTime(b[0])+" / "+UMGUtils.formatDuration(b[1]));b=x[0].getBoundingClientRect();var h=c[0].getBoundingClientRect();a=parseInt(h.left-b.left+c.outerWidth()/2-H.outerWidth()/2,10);c="top"==yc?parseInt(h.top+c.outerHeight()-b.top+10,10):parseInt(h.top-b.top-H.outerHeight()-10,10);0>a?a=0:a+H.outerWidth()>x.width()&&(a=x.width()-H.outerWidth());H.css({left:a+"px",top:c+"px"}).show()}
function L(a){var b="https:"==window.location.protocol?"https:":"http:",h=(window.screen.width-600)/2,c=(window.screen.height-300)/2,d=n.title,e=n.description||"",f=n.thumb||"",g=n.share,k;UMGUtils.relativePath(f)||(f=UMGUtils.qualifyURL(n.thumb));"facebook"==a?window.FB&&FB.ui({method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:{"og:url":g,"og:title":d,"og:description":e,"og:image":f}})},function(a){}):"twitter"==a?k=b+"//twitter.com/intent/tweet?url="+encodeURIComponent(g)+
"&text="+encodeURIComponent(d):"googleplus"==a?k=b+"//plus.google.com/share?url="+encodeURIComponent(g):"tumblr"==a&&(k=b+"//www.tumblr.com/share/link?url="+encodeURIComponent(g)+"&amp;name="+encodeURIComponent(d)+"&amp;description="+encodeURIComponent(e));k&&window.open(k,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=300,left="+h+",top="+c)}function U(a){(function(a,b,h){var c=a.getElementsByTagName(b)[0];a.getElementById(h)||(a=a.createElement(b),a.id=h,a.src="//connect.facebook.net/en_US/sdk.js",
c.parentNode.insertBefore(a,c))})(document,"script","facebook-jssdk");window.fbAsyncInit=function(){FB.init({appId:a,xfbml:!0,version:"v2.9"})}}function M(){if(b(this).hasClass("umg-menu-active"))return!1;var a=b(this).attr("data-label");D.setPlaybackRate(Number(a))}function G(a){$b&&$b.removeClass("umg-menu-active");$b=zc.find(".umg-menu-item[data-label='"+a+"']").addClass("umg-menu-active")}function R(){var a=[],b=n.path.length;for(Aa=0;Aa<b;Aa++){var c=n.path[Aa];a.push(c.quality)}return n.available_quality=
a}function O(a,c){var h,wa=a.length;1!=wa&&c||(c=a[0]);for(h=0;h<wa;h++){var d=a[h];var e=b("<li/>").addClass("umg-menu-item").attr("data-label",d).on("click",da).appendTo(ac);b('<a href="#"/>').text(d).appendTo(e);c==d&&(yb=e.addClass("umg-menu-active"))}Ac.show()}function da(){if(b(this).hasClass("umg-menu-active"))return!1;var a=b(this).find("a").text();D.setPlaybackQuality(a)}function va(a){yb&&yb.removeClass("umg-menu-active");yb=ac.find(".umg-menu-item[data-label='"+a+"']").addClass("umg-menu-active")}
function P(){var a=n.path.length;var b=0;a:for(;b<a;b++){var c=n.path[b];for(var d in c){if(!n.quality){"audio"==v?n.id=Bc&&c.mp3?c.mp3:Cc&&c.wav?c.wav:c.path:"video"==v?Dc&&c.mp4&&(n.id=c.mp4):"image"==v&&(n.id=c.image);break a}if(c[d]==n.quality){"audio"==v?n.id=Bc&&c.mp3?c.mp3:Cc&&c.wav?c.wav:c.path:"video"==v?Dc&&c.mp4&&(n.id=c.mp4):"image"==v&&(n.id=c.image);break a}}}}function ea(){if(b(this).hasClass("umg-menu-active"))return!1;W&&W.removeClass("umg-menu-active");W=b(this).addClass("umg-menu-active");
var a=W.attr("data-label");D.setSubtitle(a)}function ja(a){qa=[];b.ajax({url:a.src}).done(function(b){b=b.replace(/\r\n|\r|\n/g,"\n");b=UMGUtils.strip(b);b=b.split("\n\n");var h,c=0,wa;for(h in b){var d=b[h].split("\n");if("WEBVTT"!=d){if(2<=d.length){var e=UMGUtils.strip(d[1].split(" --\x3e ")[0]);var f=UMGUtils.strip(d[1].split(" --\x3e ")[1]);var g=d[2];if(2<d.length)for(wa=3;wa<d.length;wa++)g+="\n"+d[wa];qa[c]={};qa[c].start=UMGUtils.toSeconds(e);qa[c].end=UMGUtils.toSeconds(f);qa[c].text=g}c++}}zb[a.label]=
qa;Ta=!0}).fail(function(a,b,h){console.log(a,b,h)})}function Xa(){if(Z)Z.initMedia(n);else{var h=b('<div class="umg-image-holder"/>').on("click",function(a){D.togglePlayback()}).prependTo(Q);Z=new UMGImagePlayer({elements:{mediaHolder:Q,holder:h},settings:a,mediaData:n});b(Z).on("UMGImagePlayer.START",function(a,b){}).on("UMGImagePlayer.LOAD_START",function(a,b){}).on("UMGImagePlayer.LOAD_END",function(b,h){Ba||"image"!=v||O(R(),n.quality);n.duration&&(a.autoPlay||pa.show())}).on("UMGImagePlayer.END",
function(a,b){"image"==v&&Ca()}).on("UMGImagePlayer.END_MULTIPLE",function(a,b){la&&Z.initMedia()}).on("UMGImagePlayer.PLAY",function(a,b){"image"==v&&Da()}).on("UMGImagePlayer.PAUSE",function(a,b){"image"==v&&Ka()}).on("UMGImagePlayer.LOAD_ERROR",function(a,b){console.log("UMGImagePlayer.LOAD_ERROR")}).on("UMGImagePlayer.SEEKED",function(a,b){setTimeout(function(){clearTimeout(this);ka=!1},500)})}}function Zc(){if(bb)bb.initMedia(n);else{var h=b('<div class="umg-audio-holder"/>').on("click",function(a){D.togglePlayback()}).prependTo(Q);
bb=new UMGAudioPlayer({elements:{mediaHolder:Q,holder:h},settings:a,mediaData:n});b(bb).on("UMGAudioPlayer.END",function(){Ca()}).on("UMGAudioPlayer.LOADED_METADATA",function(a,b){Ba||O(R(),n.quality);G(bb.getPlaybackRate());if(n.slideshow)Xa();else if(n.poster||n.thumb)n.slideshow={id:n.poster||n.thumb},Xa();1==b.paused&&pa.show()}).on("UMGAudioPlayer.WAITING",function(){ba.show()}).on("UMGAudioPlayer.PLAYING",function(){ba.hide()}).on("UMGAudioPlayer.PLAY",function(){Da();n.slideshow&&"undefined"!==
typeof Z&&Z.play()}).on("UMGAudioPlayer.PAUSE",function(){Ka();n.slideshow&&"undefined"!==typeof Z&&Z.pause()}).on("UMGAudioPlayer.SEEKED",function(){setTimeout(function(){clearTimeout(this);ka=!1},500)}).on("UMGAudioPlayer.ERROR",function(a,b){console.log("UMGAudioPlayer.ERROR")}).on("UMGAudioPlayer.PLAYBACK_RATE_CHANGE",function(a,b){G(b)})}}function $c(){if(cb)cb.initMedia(n);else{var h=b('<div class="umg-video-poster"/>').on("click",function(a){D.togglePlayback()}).prependTo(Q),c=b('<div class="umg-video-holder"/>').on("click",
function(a){D.togglePlayback()}).prependTo(Q);cb=new UMGVideoPlayer({elements:{mediaHolder:Q,videoHolder:c,videoPoster:h},settings:a,mediaData:n});b(cb).on("UMGVideoPlayer.END",function(){Ca()}).on("UMGVideoPlayer.LOADED_METADATA",function(){Ba||O(R(),n.quality);G(cb.getPlaybackRate())}).on("UMGVideoPlayer.WAITING",function(){ba.show()}).on("UMGVideoPlayer.PLAYING",function(){ba.hide()}).on("UMGVideoPlayer.PLAY",function(){Da()}).on("UMGVideoPlayer.PAUSE",function(){Ka()}).on("UMGVideoPlayer.ERROR",
function(a,b){console.log("UMGVideoPlayer.ERROR")}).on("UMGVideoPlayer.POSTER_LOAD_START",function(){ba.show()}).on("UMGVideoPlayer.POSTER_LOAD_END",function(){ba.hide();pa.show()}).on("UMGVideoPlayer.POSTER_OFF",function(){pa.hide()}).on("UMGVideoPlayer.SET_VOLUME",function(a,b){e(b)}).on("UMGVideoPlayer.PLAYBACK_RATE_CHANGE",function(a,b){G(b)}).on("UMGVideoPlayer.SEEKED",function(){ba.hide();setTimeout(function(){clearTimeout(this);ka=!1},500)})}}function bd(){if(La)La.initMedia(n);else{var h=
b('<div class="umg-youtube-holder"/>').prependTo(Q);La=new UMGYoutubePlayer({elements:{mediaHolder:Q,holder:h},settings:a,mediaData:n});b(La).on("UMGYoutubePlayer.READY",function(){}).on("UMGYoutubePlayer.START",function(){Ba||O(La.getAvailableQualityLevels(),La.getPlaybackQuality());G(La.getPlaybackRate())}).on("UMGYoutubePlayer.END",function(){Ca()}).on("UMGYoutubePlayer.PLAY",function(){Da()}).on("UMGYoutubePlayer.PAUSE",function(){Ka()}).on("UMGYoutubePlayer.CUED",function(){ba.hide()}).on("UMGYoutubePlayer.ERROR",
function(a,b){console.log("UMGYoutubePlayer.ERROR")}).on("UMGYoutubePlayer.SET_VOLUME",function(a,b){e(b)}).on("UMGYoutubePlayer.QUALITY_CHANGE",function(a,b){va(b)}).on("UMGYoutubePlayer.PLAYBACK_RATE_CHANGE",function(a,b){G(b)})}}function cd(){if(mb)mb.initMedia(n);else{var h=b('<div class="umg-vimeo-holder"/>').prependTo(Q);mb=new UMGVimeoPlayer({elements:{mediaHolder:Q,holder:h},settings:a,mediaData:n});b(mb).on("UMGVimeoPlayer.READY",function(){}).on("UMGVimeoPlayer.LOADED_METADATA",function(){pa.show()}).on("UMGVimeoPlayer.START",
function(){}).on("UMGVimeoPlayer.PLAY",function(){Da()}).on("UMGVimeoPlayer.PAUSE",function(){Ka()}).on("UMGVimeoPlayer.END",function(){Ca()}).on("UMGVimeoPlayer.ERROR",function(){console.log("UMGVimeoPlayer.ERROR")}).on("UMGVimeoPlayer.SEEKED",function(){setTimeout(function(){clearTimeout(this);ka=!1},500)})}}function dd(){if(Ua)Ua.initMedia(n);else{var h=b('<div class="umg-dm-holder"/>').prependTo(Q).show(),c=b("<div></div>").appendTo(h);Ua=new UMGDmPlayer({elements:{mediaHolder:Q,dispose_holder:h,
holder:c},settings:a,mediaData:n});b(Ua).on("UMGDmPlayer.READY",function(){}).on("UMGDmPlayer.START",function(){Ba||O(Ua.getAvailableQualityLevels(),Ua.getPlaybackQuality())}).on("UMGDmPlayer.PLAY",function(){Da()}).on("UMGDmPlayer.PAUSE",function(){Ka()}).on("UMGDmPlayer.END",function(){Ca()}).on("UMGDmPlayer.ERROR",function(){console.log("UMGDmPlayer.ERROR")}).on("UMGDmPlayer.QUALITY_CHANGE",function(a,b){va(b)}).on("UMGDmPlayer.SEEKED",function(){setTimeout(function(){clearTimeout(this);ka=!1},
500)})}}function ed(){db?db.initMedia(n):(db=new UMGWistiaPlayer({elements:{mediaHolder:Q},settings:a,mediaData:n}),b(db).on("UMGWistiaPlayer.READY",function(){pa.show()}).on("UMGWistiaPlayer.START",function(){G(db.getPlaybackRate())}).on("UMGWistiaPlayer.PLAY",function(){Da()}).on("UMGWistiaPlayer.PAUSE",function(){Ka()}).on("UMGWistiaPlayer.END",function(){Ca()}).on("UMGWistiaPlayer.PLAYBACK_RATE_CHANGE",function(a,b){G(b)}).on("UMGWistiaPlayer.SEEKED",function(a,b){setTimeout(function(){clearTimeout(this);
ka=!1},500)}))}function fd(){if(nb)nb.initMedia(n);else{var h=b('<div class="umg-custom-holder"/>').on("click",function(a){D.togglePlayback()}).prependTo(Q);nb=new UMGCustomPlayer({elements:{holder:h},settings:a,mediaData:n});b(nb).on("UMGCustomPlayer.START",function(){}).on("UMGCustomPlayer.LOAD_START",function(a,b){ba.show()}).on("UMGCustomPlayer.LOAD_END",function(b,h){n.duration&&(a.autoPlay?Da():pa.show());ba.hide()}).on("UMGCustomPlayer.PLAY",function(){Da()}).on("UMGCustomPlayer.PAUSE",function(){Ka()}).on("UMGCustomPlayer.END",
function(){Ca()}).on("UMGCustomPlayer.ERROR",function(){console.log("UMGCustomPlayer.ERROR")}).on("UMGCustomPlayer.SEEKED",function(a,b){setTimeout(function(){clearTimeout(this);ka=!1},500)})}}function gd(a){a.preventDefault();if(!B)return!1;a=b(a.currentTarget);a.hasClass("umg-playback-toggle")||a.hasClass("umg-big-play")?D.togglePlayback():a.hasClass("umg-playlist-toggle")?bc():a.hasClass("umg-info-toggle")?Ab():a.hasClass("umg-info-close")?Ab(!1):a.hasClass("umg-embed-toggle")?Bb():a.hasClass("umg-embed-close")?
Bb(!1):a.hasClass("umg-prev-toggle")?cc():a.hasClass("umg-next-toggle")?Cb():a.hasClass("umg-seek-backward")?D.seekBackward():a.hasClass("umg-seek-forward")?D.seekForward():a.hasClass("umg-range-toggle")?u():a.hasClass("umg-share-item")&&n.share&&L(a.attr("data-type").toLowerCase())}function hd(a){a.preventDefault();if(!B)return!1;a=b(a.currentTarget).attr("data-id");if(a==E.getCounter())return!1;dc=!0;E.processPlaylistRequest(a);b(D).trigger("clickPlaylistItem",{instance:D,instanceName:fa,counter:a})}
function id(a){a.preventDefault();if(!B)return!1;a=b(a.currentTarget);if(a.attr("data-id")==E.getCounter())return!1;Db(a,"on")}function jd(a){a.preventDefault();if(!B)return!1;a=b(a.currentTarget);if(a.attr("data-id")==E.getCounter())return!1;Db(a,"off")}function Ec(){if(-1!=Ea){var a=ha.children(".umg-playlist-item[data-id="+Ea+"]");a.length&&(a.attr("data-id"),Db(a,"off"),b(D).trigger("playlistItemEnabled",{instance:D,instanceName:fa,item:a}))}}function Db(a,b){if(a.find(".umg-playlist-title").length){if("on"==
b){var h=a.find(".umg-playlist-title").outerHeight(!0);0==h&&(h=a.find(".umg-playlist-title").attr("data-height"));h=a.outerHeight(!0)-h}else h=a.outerHeight(!0);a.find(".umg-playlist-title").css({transform:"translateY("+h+"px)"})}}function kd(a){a.preventDefault();if(!B||!v)return!1;eb()}function ld(a){a.preventDefault();if(!B||!v)return!1;fb()}function eb(){n&&!n.interfaceHidden&&(Fc.show(),T&&T.addClass("umg-subtitle-bottom"),Eb=!1)}function fb(){Fc.hide();T&&T.removeClass("umg-subtitle-bottom");
H.hide();Eb=!0;ma&&Gc&&(na&&clearTimeout(na),na=setTimeout(function(){clearTimeout(this);fb()},ob))}function ec(a){na&&clearTimeout(na);a&&(Hc!=a.clientX&&eb(),Hc=a.clientX);na=setTimeout(function(){clearTimeout(this);fb()},ob)}function Ab(a){if("undefined"!==typeof a){if(Ma&&1==a||!Ma&&0==a)return!1;Ma=!a}if(UMGUtils.isEmpty(fc.html())&&UMGUtils.isEmpty(gc.html()))return!1;Na&&Bb(!1);Ma?(hc.hide(),Va&&(D.playMedia(),Va=!1)):(la&&(D.pauseMedia(),Va=!0),hc.show());Ma=!Ma}function Bb(a){if("undefined"!==
typeof a){if(Na&&1==a||!Na&&0==a)return!1;Na=!a}Ma&&Ab(!1);Na?(ic.hide(),Va&&(D.playMedia(),Va=!1)):(la&&(D.pauseMedia(),Va=!0),ic.show());Na=!Na}function Ic(){Fa=!0;ba.show();ra&&jc();aa=-1;K=[];X=[];var a=b(md.find("div[id="+gb+"]"));if(0==a.length)return alert("Failed playlist selection! No playlist: "+gb+". Check activePlaylist option in settings!"),Ga=Fb=!1,ba.hide(),Fa=!1;b(D).trigger("playlistStartLoad",{instance:D,instanceName:fa});var c,d;a.children("div[class*=umg-playlist-item]").each(function(){d=
b(this);c=kc(d);X.push(c)});J=X.length;F()}function F(){aa++;if(aa>J-1)nd();else{var c=X[aa],d=X[aa].type;if(RegExp(/^image$/).test(d))K.push(c),F();else if(RegExp(/^instagram/).test(d))od(d);else if(RegExp(/^flickr/).test(d))pd(d);else if(RegExp(/^facebook/).test(d))qd(d);else if(RegExp(/^tumblr/).test(d))rd(d);else if(RegExp(/^audio$/).test(d))K.push(c),F();else if(/^soundcloud$|^podcast$/.test(d))Gb||(Gb=new UMGSoundLoader({settings:a}),b(Gb).on("UMGSoundLoader.END_LOAD",function(a,b){var c,h=
b.length;for(c=0;c<h;c++){var d=b[c];K.push(d)}F()})),Gb.setData(c);else if(RegExp(/^video$/).test(d))K.push(c),F();else if(RegExp(/^youtube/).test(d))if(!c.noapi||"youtube_single"!=d&&"youtube_single_list"!=d)Hb||(Hb=new UMGYoutubeLoader(a),b(Hb).on("UMGYoutubeLoader.END_LOAD",function(a,b){var c,h=b.length;for(c=0;c<h;c++){var d=b[c];K.push(d)}F()})),Hb.setData(c);else{var e=c.path.split(","),f=e.length;for(d=0;d<f;d++){var g=b.extend(!0,{},c);K.push(g);g.path=g.id=e[d];g.type="youtube"}F()}else RegExp(/^vimeo/).test(d)?
c.noapi&&"vimeo_single"==d?(K.push(c),g.type="vimeo",F()):(Ib||(Ib=new UMGVimeoLoader({settings:a}),b(Ib).on("UMGVimeoLoader.END_LOAD",function(a,b){var c,h=b.length;for(c=0;c<h;c++){var d=b[c];K.push(d)}F()})),Ib.setData(c)):RegExp(/^dm/).test(d)?c.noapi&&"dm_single"==d?(K.push(c),g.type="dm",F()):(Jb||(Jb=new UMGDailyMotionLoader({settings:a}),b(Jb).on("UMGDailyMotionLoader.END_LOAD",function(a,b){var c,h=b.length;for(c=0;c<h;c++){var d=b[c];K.push(d)}F()})),Jb.setData(c)):RegExp(/^wistia/).test(d)?
c.noapi&&"wistia_single"==d?(K.push(c),g.type="wistia",F()):(Kb||(Kb=new UMGWistiaLoader({settings:a}),b(Kb).on("UMGWistiaLoader.END_LOAD",function(a,b){var c,h=b.length;for(c=0;c<h;c++){var d=b[c];K.push(d)}F()})),Kb.setData(c)):/^gdrive_folder/.test(d)?sd(d):/^gdrive_single/.test(d)?(td(d,c),F()):RegExp(/^folder/).test(d)?ud(d):RegExp(/^xml$/).test(d)?vd():(RegExp(/^custom/).test(d)?K.push(c):console.log("Invalid data-type in playlist! Type = "+d),F())}}function od(a){if("file:"==window.location.protocol)return console.log("Reading Instagram locally is not possible! This requires online server connection."),
F(),!1;var c=X[aa];b.ajax({type:"GET",url:pb+"includes/instagram.php",data:{type:a,path:c.path,user_id:c.user,limit:c.limit},dataType:"json"}).done(function(a){var h,d=a.length;for(h=0;h<d;h++){var e=a[h];var f=b.extend(!0,{},c);f.type=e.type;f.origtype="instagram";"image"==f.type?f.path=[{quality:"default",image:e.images.standard_resolution.url}]:"video"==f.type&&(f.path=[{quality:"default",mp4:e.videos.standard_resolution.url}],f.poster=e.images.standard_resolution.url);f.thumb||(f.thumb=e.images.thumbnail.url);
!f.share&&e.link&&(f.share=e.link);!f.title&&e.caption&&e.caption.text&&(f.title=e.caption.text);K.push(f)}F()}).fail(function(a,b,c){console.log(a,b,c);F()})}function pd(a){if("file:"==window.location.protocol)return console.log("Reading Flickr locally is not possible! This requires online server connection."),F(),!1;var c=X[aa];b.ajax({type:"GET",url:pb+"includes/flickr.php",data:{type:a,path:c.path,limit:c.limit,user_id:c.user},dataType:"json"}).done(function(a){var h,d=a.length;for(h=0;h<d;h++){var e=
a[h];var f=b.extend(!0,{},c);f.origtype="flickr";var g="b";var ta="https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_"+g+".jpg";if("photo"==e.media)f.type="image",f.path=[{quality:"default",image:ta}];else if("video"==e.media){f.type="video";f.path=[{quality:"default",mp4:ta}];f.poster=ta;continue}f.thumb||(g="t",f.thumb="https://farm"+e.farm+".staticflickr.com/"+e.server+"/"+e.id+"_"+e.secret+"_"+g+".jpg");f.share||(f.share=ta);!f.title&&e.title&&(f.title=e.title);K.push(f)}F()}).fail(function(a,
b,c){console.log(a,b,c);F()})}function qd(a){if("file:"==window.location.protocol)return console.log("Reading Facebook locally is not possible! This requires online server connection."),F(),!1;var c=X[aa];b.ajax({type:"GET",url:pb+"includes/facebook.php",data:{type:a,path:c.path,limit:c.limit,user_id:c.user},dataType:"json"}).done(function(a){console.log(a);var h,d=a.length;for(h=0;h<d;h++){var e=a[h];var f=b.extend(!0,{},c);f.type="image";f.origtype="facebook";f.path=[{quality:"default",image:e.images[0].source}];
f.thumb||(f.thumb=e.picture);!f.share&&e.link&&(f.share=e.link);!f.title&&e.name&&(f.title=e.name);K.push(f)}F()}).fail(function(a,b,c){console.log(a,b,c);F()})}function rd(a){if("file:"==window.location.protocol)return console.log("Reading Tumblr locally is not possible! This requires online server connection."),F(),!1;var c=X[aa];b.ajax({type:"GET",url:pb+"includes/tumblr.php",data:{type:a,path:c.path,limit:c.limit},dataType:"json"}).done(function(a){var h,d=a.length;for(h=0;h<d;h++){var e=a[h];
if("photo"==e.type){var f=b.extend(!0,{},c);f.type="image";f.origtype="tumblr";var g=e.photos[0];if(g.original_size&&g.original_size.url)var ta=g.original_size.url;else g.alt_sizes&&g.alt_sizes[0]&&(ta=g.alt_sizes[0].url);f.path=[{quality:"default",image:ta}];!f.thumb&&g.alt_sizes&&(f.thumb=g.alt_sizes.length-2?g.alt_sizes[g.alt_sizes.length-2].url:g.alt_sizes[g.alt_sizes.length-1].url);!f.share&&e.post_url&&(f.share=e.post_url);!f.title&&e.caption&&(f.title=e.caption);K.push(f)}}F()}).fail(function(a,
b,c){console.log(a,b,c);F()})}function sd(a){if("file:"==window.location.protocol)return alert("Reading files from folders locally is not possible! This requires online server connection."),F(),!1;if(UMGUtils.isEmpty(Jc))return alert("gDriveAppId has not been set in settings!"),F(),!1;var c=X[aa];b.ajax({url:"https://www.googleapis.com/drive/v3/files?q='"+c.path+"'+in+parents&key="+Jc,dataType:"jsonp"}).done(function(h){var d,e=h.files.length,f=[],g=[],k;for(d=0;d<e;d++){var l=h.files[d];"gdrive_folder_audio"==
a?k=/mp3|mpeg|mpeg3|wav/:"gdrive_folder_video"==a&&(k=/mp4/);k.test(l.mimeType)?g.push(l):/jpg|jpeg|png/.test(l.mimeType)&&f.push(l)}UMGUtils.keysrt(g,"name");UMGUtils.keysrt(f,"name");e=g.length;for(d=0;d<e;d++){l=g[d];h=b.extend(!0,{},c);"gdrive_folder_audio"==a?h.type="audio":"gdrive_folder_video"==a&&(h.type="video");h.origtype="gdrive";var wa=l.name.substr(l.name.lastIndexOf(".")+1).toLowerCase();k="https://drive.google.com/uc?export=view&id="+l.id;var ta={quality:"default"};ta[wa]=k;h.path=
[ta];"undefined"===typeof h.download&&(h.download="https://drive.google.com/uc?export=download&id="+l.id);"undefined"===typeof h.share&&(h.share="https://drive.google.com/open?id="+l.id);f[d]&&(h.thumb||(h.thumb="https://drive.google.com/uc?export=view&id="+f[d].id),"gdrive_folder_video"!=a||h.poster||(h.poster="https://drive.google.com/uc?export=view&id="+f[d].id));h.title||(h.title=l.name.substr(0,l.name.lastIndexOf(".")));K.push(h)}F()}).fail(function(a,b,c){console.log(a,b,c);F()})}function td(a,
c){var h=b.extend(!0,{},c);if("gdrive_single_audio"==a){h.type="audio";var d="mp3"}else"gdrive_single_video"==a&&(h.type="video",d="mp4");h.origtype="gdrive";var e="https://drive.google.com/uc?export=view&id="+c.path;var f={quality:"default"};f[d]=e;h.path=[f];"undefined"===typeof h.download&&(h.download="https://drive.google.com/uc?export=download&id="+c.path);"undefined"===typeof h.share&&(h.share="https://drive.google.com/open?id="+c.path);c.thumb&&(h.thumb="https://drive.google.com/uc?export=view&id="+
c.thumb);"gdrive_single_video"==a&&c.poster&&(h.poster="https://drive.google.com/uc?export=view&id="+c.poster);K.push(h)}function ud(a){if("file:"==window.location.protocol)return console.log("Reading files from folders locally is not possible! This requires online server connection."),F(),!1;var c=X[aa],h=c.path.replace(/\/\//g,"/")+"/main/",d=pb+"includes/folder_parser.php",e;"folder_video"==a?e=["mp4"]:"folder_audio"==a?e=["mp3"]:"folder_image"==a&&(e=["jpg","jpeg","png","gif"]);"folder_audio"==
a&&c.id3&&(lc=Wa=K.length-1);b.ajax({type:"GET",url:d,data:{type:e,dir:h,limit:c.limit||100},dataType:"json"}).done(function(h){UMGUtils.keysrt(h,"filename");var d,e=h.length;for(d=0;d<e;d++){var f=h[d];if("folder_video"==a){if(/.mp4/.test(f.basename)){var g=b.extend(!0,{},c);g.type="video";g.origtype="folder_video";var k=f.fullpath;g.path=[{quality:"default",mp4:k}];g.poster=k.substr(0,k.lastIndexOf("."))+".jpg";g.thumb||(g.thumb=g.poster.replace(/\/main\/(?!.*\/main\/)/,"/thumb/"));g.share||(g.share=
k);g.title||(g.title=f.filename);K.push(g)}}else"folder_audio"==a?/.mp3/.test(f.basename)&&(g=b.extend(!0,{},c),g.type="audio",g.origtype="folder_audio",k=f.fullpath,g.path=[{quality:"default",mp3:k}],g.thumb||(g.thumb=(k.substr(0,k.lastIndexOf("."))+".jpg").replace("/main/","/thumb/")),g.share||(g.share=k),g.title||(g.title=f.filename),K.push(g),Wa++):"folder_image"==a&&/.jpg|jpeg|png|gif/.test(f.basename)&&(g=b.extend(!0,{},c),g.type="image",g.origtype="folder_image",k=f.fullpath,g.path=[{quality:"default",
image:k}],g.thumb||(g.thumb=k.replace("/main/","/thumb/")),g.share||(g.share=k),g.title||(g.title=f.filename),K.push(g))}"folder_audio"==a&&c.id3?mc():F()}).fail(function(a,b,c){console.log(a,b,c);F()})}function mc(){var a=K[Wa];jsmediatags.read(a.path[0].mp3,{onSuccess:function(b){var c=b.tags;b=c.picture;c.artist&&(a.artist=c.artist);c.title&&(a.title=c.title);c.album&&(a.album=c.album);if(b){c="";var h,d=b.data.length;for(h=0;h<d;h++)c+=String.fromCharCode(b.data[h]);a.thumb="data:"+b.format+";base64,"+
window.btoa(c)}Wa--;Wa>lc?mc():F()},onError:function(a){console.log("ID3 error: ",a.type,a.info);Wa--;Wa>lc?mc():F()}})}function vd(){var a=X[aa],c=0,d=aa;X.splice(d,1);b.ajax({type:"GET",url:a.path,dataType:"html",cache:!1}).done(function(a){var h,e;b(a).children("div[class*=umg-playlist-item]").each(function(){h=b(this);e=kc(h);X.splice(d,0,e);d++;c++});J+=c-1;--aa;F()}).fail(function(a,b,c){console.log(a,b,c);F()})}function nd(){var a,c=Ga?ia:ca.length,d=K.length,e,f=0;for(a=0;a<d;a++){var g=a+
c;Ga&&f++;var k=K[a];var l=k.type;if(qb){k.origclasses||(k.origclasses="umg-playlist-item");var m=b('<div class="'+k.origclasses+'"/>').attr({"data-type":l});delete k.origclasses;if(Ga){n?n.after(m):hb?m.appendTo(ha):ha.children("div").eq(ia).before(m);var n=m}else m.appendTo(ha);if(e=k.thumb||k.thumbDefault){var p=b("<div/>").addClass("umg-playlist-thumb").appendTo(m);b(new Image).addClass("umg-thumbimg umg-hidden").appendTo(p).on("load",function(){b(this).removeClass("umg-hidden").addClass("umg-visible")}).attr("src",
e)}e=k.title||"";e.length&&(70<e.length&&(e=UMGUtils.cutString(e,70)+"..."),e=b('<span class="umg-playlist-title">'+e+"</span>").appendTo(m),e.attr("data-height",e.outerHeight(!0)));m.on("click",hd);if(!ma)m.on("mouseenter",id).on("mouseleave",jd)}ca.splice(g,0,{id:g,type:l,data:k})}ra=ha;nc();"horizontal"==ib&&ha.width(J*wd);console.log("playlistLength = ",J);Ga||Fb?(g=E.getCounter(),E.setPlaylistItems(J,!1),ia<=g&&(hb||E.reSetCounter(g+f)),Lb?(Lb=!1,jb&&!ma&&oc(!0),E.setCounter(ia,!1)):jb&&E.setCounter(ia,
!1),-1!=E.getCounter()&&(Ea=E.getCounter())):E.setPlaylistItems(J);Kc();Mb=!0;b(D).trigger("playlistEndLoad",{instance:D,instanceName:fa})}function nc(){J=ca.length;if(qb){var a=0;ha.find("div.umg-playlist-item").each(function(){b(this).attr("data-id",a);ca[a].id=a;a++});pc&&0<J&&"horizontal"==ib&&Nb.mCustomScrollbar("update")}}function Kc(){ba.hide();Fa=!1;if(!B){B=!0;qb&&!qc&&pc&&(Nb.mCustomScrollbar({axis:"horizontal"==ib?"x":"y",theme:a.playlistScrollTheme,scrollInertia:0,mouseWheel:{normalizeDelta:!0,
deltaFactor:50,preventDefault:!0},keyboard:{enable:!1},advanced:{autoExpandHorizontalScroll:!0}}),qc=qc=!0);if(xd){if(!ma)Q.on("mouseenter",kd).on("mouseleave",ld)}else eb();Lc();sa=!sa;bc();e(N);b(D).trigger("setupDone",{instance:D,instanceName:fa})}if(!rc&&!Ga&&0<J){var c=a.activeItem;c>J-1&&(c=J-1);-1<c&&E.setCounter(c,!1);rc=!0}Ga=Fb=!1}function Mc(a){Ba=a;v&&(Ba?(Oa&&cancelAnimationFrame(Oa),r&&r.dispose(!0),pa.hide(),jb=Pa=la=!1):Ob());a=E.getCounter();n=ca[a].data;v=n.type;if(n.subtitles&&
!Ba){var c=n.subtitles.length;for(a=0;a<c;a++){var h=n.subtitles[a];var d=b("<li/>").addClass("umg-menu-item").attr("data-label",h.label).on("click",ea).appendTo(kb);b('<a href="#"/>').text(h.label).appendTo(d);h["default"]&&(W=d.addClass("umg-menu-active"),ja(h))}d=b("<li/>").addClass("umg-menu-item").attr("data-label","Off").on("click",ea).appendTo(kb);b('<a href="#"/>').text("Off").appendTo(d);W||(W=d.addClass("umg-menu-active"));Nc.show()}"image"==v?(P(),Xa(),r=Z):"audio"==v?(P(),Zc(),r=bb):"video"==
v?(P(),$c(),r=cb):"youtube"==v?(bd(),r=La):"vimeo"==v?(cd(),r=mb):"dm"==v?(dd(),r=Ua):"wistia"==v?(ed(),r=db):"custom"==v&&(fd(),r=nb);Ba||(n.title||n.description?(n.title&&!UMGUtils.isEmpty(n.title)&&fc.html(n.title),n.description&&!UMGUtils.isEmpty(n.description)&&gc.html(n.description),Pb.show()):Pb.hide(),yd&&n.download?Oc.show().find("a").attr("href",n.download).attr("download",""):Oc.hide(),"audio"==v||"video"==v||"youtube"==v||"wistia"==v?Pc.show():Pc.hide(),n.share?sc.show():sc.hide());n.interfaceHidden?
fb():eb();b(D).trigger("mediaRequest",{instance:D,instanceName:fa,counter:Aa})}function Ob(){Oa&&cancelAnimationFrame(Oa);Ta=!1;qa=[];zb=[];rb.empty();W=T=null;r&&(r.dispose(),r=null,"audio"==v&&"undefined"!==typeof Z&&Z.dispose());fc.html("");gc.html("");Ac.hide();ac.empty();kb.empty();Nc.hide();f();Qb.hide();Va=!1;hc.hide();Ma=!1;Pb.hide();ic.hide();Na=!1;pa.hide();Qc.width(0);Rc.width(0);n=v=null;jb=Pa=la=!1}function jc(){Mb=!1;ra=null;Ea=-1;v&&Ob();ha.empty();Ga=!1;J=0;aa=-1;K=[];ca=[];E.reSetCounter();
rc=!1}function Cb(){B&&0!=J&&E.advanceHandler(1,!0)}function cc(){B&&0!=J&&E.advanceHandler(-1,!0)}function Da(){ba.hide();tc.find("i").removeClass("fa-play").addClass("fa-pause");pa.hide();Sc.find("span").html("Pause");Pa||(ma||oc(!0),setTimeout(function(){clearTimeout(this);S=Za.width()},10),"undefined"!==typeof n.range&&p(n.range[0],n.range[1]),"image"==v?n.duration&&Qb.show():Qb.show(),Oa&&cancelAnimationFrame(Oa),Oa=requestAnimationFrame(Tc),b(D).trigger("mediaStart",{instance:D,instanceName:fa,
counter:E.getCounter()}),Pa=!0);if(zd&&umg_mediaArr.length){var a,c=umg_mediaArr.length;for(a=0;a<c;a++)D!=umg_mediaArr[a].inst&&umg_mediaArr[a].inst.pauseMedia()}b(D).trigger("mediaPlay",{instance:D,instanceName:fa,counter:E.getCounter()});la=!0}function Ka(){tc.find("i").removeClass("fa-pause").addClass("fa-play");pa.show();Sc.find("span").html("Play");b(D).trigger("mediaPause",{instance:D,instanceName:fa,counter:E.getCounter()});la=!1}function Tc(){var a=r.getCurrentTime(),c=r.getDuration(),d=
Math.min(Math.max(r.getLoadedFraction(),0),1);d&&Qc.width(d*S);if(UMGUtils.isNumber(a)&&UMGUtils.isNumber(c)&&(Rc.width(a/c*S),n.end&&a>=n.end&&Ca(),za&&la&&!ka&&(a<ya||a>Ja)&&(ka=!0,D.seek(ya,!0)),Ta&&qa.length))for(d=qa.length,c=0;c<d;c++){var e=qa[c];var f=e.start;var g=e.end;e=e.text;a>=f&&a<=g?T||(T=b('<p class="umg-subtitle">'+e+"</p>"),Eb||T.addClass("umg-subtitle-bottom"),T.start=f,T.end=g,rb.append(T)):T&&(a<T.start||a>T.end)&&(T.remove(),T=null)}Oa=requestAnimationFrame(Tc)}function Ca(){b(D).trigger("mediaEnd",
{instance:D,instanceName:fa,counter:E.getCounter()});var a=n.start||0;"next"==uc?Cb():"loop"==uc?"image"==v||"custom"==v?r.seek(a,!0):"audio"==v?(r.seek(a,!0),r.play()):"video"==v?(r.seek(a,!0),r.play()):"youtube"==v?(r.seek(a,!0),r.play()):"vimeo"==v?(r.pause(),r.seek(a,!0),r.play()):"dm"==v?r.seek(a,!0):"wistia"==v&&(r.seek(a,!0),r.play()):"rewind"==uc&&("image"==v||"custom"==v?(r.seek(a,!0),r.pause(!0)):"audio"==v?(r.seek(a,!0),r.pause()):"video"==v?(r.seek(a,!0),r.pause()):"youtube"==v?(r.seek(a,
!0),r.pause()):"vimeo"==v?(r.pause(),r.seek(a,!0)):"dm"==v?(r.seek(a,!0),r.pause()):"wistia"==v&&(r.seek(a,!0),r.pause()))}function Lc(){if("horizontal"==ib){var a=sa?x.height()-Ha.height():x.height();Q.height(a)}else a=sa?x.width()-Ha.width():x.width(),Q.width(a);S=Za.width();v&&r&&("image"==v?r.resize():"video"==v?r.resize():"audio"==v?(n.slideshow||n.poster||n.thumb)&&"undefined"!==typeof Z&&Z.resize():"youtube"==v?n.width&&n.height&&r.resize():"vimeo"==v?n.width&&n.height&&r.resize():"dm"==v?
n.width&&n.height&&r.resize():"wistia"==v&&n.width&&n.height&&r.resize(),"undefined"!==typeof ya&&"undefined"!==typeof Ja&&A())}function bc(a){if(!B)return!1;if("undefined"!==typeof a){if(sa&&1==a||!sa&&0==a)return!1;sa=!a}"horizontal"==ib?(sa?(a=x.height(),Ha.hide()):(Ha.show(),a=x.height()-Ha.height()),Q.height(a)):(sa?(a=x.width(),Ha.hide()):(Ha.show(),a=x.width()-Ha.width()),Q.width(a));sa=!sa;S=Za.width();v&&r&&("image"==v?r.resize():"video"==v?r.resize():"audio"==v?(n.slideshow||n.poster||n.thumb)&&
"undefined"!==typeof Z&&Z.resize():"youtube"==v?n.width&&n.height&&r.resize():"vimeo"==v?n.width&&n.height&&r.resize():"dm"==v?n.width&&n.height&&r.resize():"wistia"==v&&n.width&&n.height&&r.resize(),"undefined"!==typeof ya&&"undefined"!==typeof Ja&&A())}function oc(b){a.autoPlay=b;r&&r.setAutoPlay(b)}function kc(a,c){var d={};d.origclasses=a.attr("class");d.type=d.origtype=a.attr("data-type");void 0!=a.attr("data-interface-hidden")&&(d.interfaceHidden=!0);void 0!=a.attr("data-noapi")&&(d.noapi=!0);
void 0==a.attr("data-content-url")||UMGUtils.isEmpty(a.attr("data-content-url"))||(d.contentUrl=a.attr("data-content-url"));void 0==a.attr("data-deeplink")||UMGUtils.isEmpty(a.attr("data-deeplink"))||(d.deeplink=a.attr("data-deeplink"));"image"==d.type||"video"==d.type||"audio"==d.type?d.path=a.data("path"):void 0==a.attr("data-path")||UMGUtils.isEmpty(a.attr("data-path"))||(d.path=a.attr("data-path"));void 0==a.attr("data-width")||UMGUtils.isEmpty(a.attr("data-width"))||void 0==a.attr("data-height")||
UMGUtils.isEmpty(a.attr("data-height"))||(d.width=parseInt(a.attr("data-width"),10),d.height=parseInt(a.attr("data-height"),10));void 0!=a.attr("data-duration")&&!UMGUtils.isEmpty(a.attr("data-duration"))&&UMGUtils.isNumber(a.attr("data-duration"))&&(d.duration=Number(a.attr("data-duration")));void 0==a.attr("data-download")||UMGUtils.isEmpty(a.attr("data-download"))||(d.download=a.attr("data-download"));void 0!=a.attr("data-id3")&&(d.id3=!0);void 0==a.attr("data-user")||UMGUtils.isEmpty(a.attr("data-user"))||
(d.user=a.attr("data-user"));void 0==a.attr("data-query")||UMGUtils.isEmpty(a.attr("data-query"))||(d.query=a.attr("data-query"));void 0==a.attr("data-sort")||UMGUtils.isEmpty(a.attr("data-sort"))||(d.sort=a.attr("data-sort"),void 0==a.attr("data-sort-direction")||UMGUtils.isEmpty(a.attr("data-sort-direction"))||(d.sortDirection=a.attr("data-sort-direction")));void 0!=a.attr("data-limit")&&!UMGUtils.isEmpty(a.attr("data-limit"))&&UMGUtils.isNumber(a.attr("data-limit"))&&(d.limit=Number(a.attr("data-limit")));
void 0==a.attr("data-quality")||UMGUtils.isEmpty(a.attr("data-quality"))||(d.quality=a.attr("data-quality"));void 0==a.attr("data-poster")||UMGUtils.isEmpty(a.attr("data-poster"))||(d.poster=a.attr("data-poster"));void 0==a.attr("data-thumb")||UMGUtils.isEmpty(a.attr("data-thumb"))?void 0==a.attr("data-thumb-default")||UMGUtils.isEmpty(a.attr("data-thumb-default"))||(d.thumbDefault=a.attr("data-thumb-default")):d.thumb=a.attr("data-thumb");void 0==a.attr("data-thumb-quality")||UMGUtils.isEmpty(a.attr("data-thumb-quality"))||
(d.thumbQuality=a.attr("data-thumb-quality"));void 0!=a.attr("data-start")&&!UMGUtils.isEmpty(a.attr("data-start"))&&UMGUtils.isNumber(a.attr("data-start"))&&(d.start=Number(a.attr("data-start")));void 0!=a.attr("data-end")&&!UMGUtils.isEmpty(a.attr("data-end"))&&UMGUtils.isNumber(a.attr("data-end"))&&(d.end=Number(a.attr("data-end")));if(void 0!=a.attr("data-range")&&!UMGUtils.isEmpty(a.attr("data-range"))){var h=a.attr("data-range").split(",");2==h.length&&UMGUtils.isNumber(h[0])&&UMGUtils.isNumber(h[1])&&
(d.range=[Number(h[0]),Number(h[1])])}void 0!=a.attr("data-playback-rate")&&!UMGUtils.isEmpty(a.attr("data-playback-rate"))&&UMGUtils.isNumber(a.attr("data-playback-rate"))&&(d.playbackRate=Number(a.attr("data-playback-rate")));void 0==a.attr("data-link")||UMGUtils.isEmpty(a.attr("data-link"))||(d.link=a.attr("data-link"),void 0==a.attr("data-target")||UMGUtils.isEmpty(a.attr("data-target"))||(d.target=a.attr("data-target")));void 0==a.attr("data-share")||UMGUtils.isEmpty(a.attr("data-share"))||(d.share=
a.attr("data-share"));a.children(".umg-title").length&&!UMGUtils.isEmpty(a.children(".umg-title").eq(0).html())&&(d.title=b.trim(a.children(".umg-title").eq(0).html()));a.children(".umg-desc").length&&!UMGUtils.isEmpty(a.children(".umg-desc").eq(0).html())&&(d.description=b.trim(a.children(".umg-desc").eq(0).html()));a.children(".umg-subtitles").length&&(h=a.children(".umg-subtitles"),h.children("div").length&&(d.subtitles=[],h.children("div").each(function(){var a=b(this),c={label:a.attr("data-label"),
src:a.attr("data-src")};void 0!=a.attr("data-default")&&(c["default"]=!0);d.subtitles.push(c)})));a.children(".umg-slideshow").length&&(h=a.children(".umg-slideshow"),h.children("div").length&&(d.slideshow=[],h.children("div").each(function(){var a=b(this);a={id:a.attr("data-path"),duration:Number(a.attr("data-duration"))};d.slideshow.push(a)})));return d}var x=b(this),Ha=x.find(".umg-playlist-holder"),Nb=x.find(".umg-playlist-inner"),ha=x.find(".umg-playlist-content"),md=b(a.playlistList).css("display",
"none"),rb=x.find(".umg-elem-holder"),Q=x.find(".umg-media-holder").css("display","block");x.find(".umg-player-controls");var Fc=x.find(".umg-interface").hide(),tc=x.find(".umg-playback-toggle"),Qa=x.find(".umg-seekbar"),Za=x.find(".umg-progress-bg"),Qc=x.find(".umg-load-level"),Rc=x.find(".umg-progress-level"),xb=x.find(".umg-volume-wrapper"),xa=x.find(".umg-volume-seekbar"),$a=x.find(".umg-volume-bg"),ad=x.find(".umg-volume-level"),hc=x.find(".umg-info"),Pb=x.find(".umg-info-toggle"),ic=x.find(".umg-embed"),
Ad=x.find(".umg-embed-toggle"),fc=x.find(".umg-player-title"),gc=x.find(".umg-player-desc"),Bd=x.find(".umg-playlist-toggle"),ba=x.find(".umg-player-loader"),pa=x.find(".umg-big-play"),Oc=x.find(".umg-download-toggle"),Qb=x.find(".umg-range-toggle"),sc=x.find(".umg-share-toggle"),Uc=x.find(".umg-seek-backward"),Vc=x.find(".umg-seek-forward"),qb=Ha.length,fa=a.instanceName,pb=a.sourcePath,ib=a.playlistScrollOrientation,uc=a.mediaEndAction,Cd=a.useKeyboardNavigationForPlayback,sa=a.playlistOpened,pc=
a.usePlaylistScroll,N=a.volume,zd=a.togglePlaybackOnMultipleInstances,Wc=a.rightClickContextMenu||"browser",xd=a.autoHideInterface,ob=a.fullscreenInterfaceTimeout||3E3,Jc=a.gDriveAppId||"";a.seekTime=a.seekTime||5;var ma=UMGUtils.isMobile(),Gc=UMGUtils.isIOS(),yd=UMGUtils.hasDownloadSupport(),Bc=UMGUtils.canPlayMp3(),Cc=UMGUtils.canPlayWav(),Dc=UMGUtils.canPlayMp4(),B=!1,Fa=!1,D=this,Wb=b("body"),Ya=b(window),V=b(document),Dd=a.documentFullsceen,vc,Pa,Oa,n,Mb,ca=[],aa,K=[],X=[],Ea=-1,ra,rc,J=0,v,
la,dc,Ba,Va,Ma,Na,na,Hc=0,Eb=!0,qc,Fb,hb,ia,Ga,jb,Lb,Z,Gb,bb,Wa,lc,cb,Hb,La,Ib,mb,Jb,Ua,Kb,db,nb,r;"undefined"===typeof window.umg_mediaArr&&(window.umg_mediaArr=[]);umg_mediaArr.push({inst:D,id:fa});ma&&(a.autoPlay=!1);var wc=b('<div class="umg-playlist-item"></div>').appendTo(x),wd=wc.outerWidth(!0);wc.remove();wc=null;var Rb="normal",xc;V.on("fullscreenchange mozfullscreenchange MSFullscreenChange webkitfullscreenchange",function(a){xc==fa&&(na&&clearTimeout(na),"fullscreen"==Rb?(Rb="normal",sb.find("i").removeClass("fa-compress").addClass("fa-expand"),
Xc.find("span").html("Fullscreen"),b("html").removeClass("umg-fs-overflow"),x.removeClass("umg-fs"),ma||V.off("mousemove",ec),eb(),xc=null):(Rb="fullscreen",sb.find("i").removeClass("fa-expand").addClass("fa-compress"),Xc.find("span").html("Normal"),b("html").addClass("umg-fs-overflow"),x.addClass("umg-fs"),ma?na=setTimeout(function(){clearTimeout(this);fb()},ob):(V.on("mousemove",ec),na=setTimeout(function(){clearTimeout(this);ec()},ob))),g())});var sb=x.find(".umg-fullscreen-toggle").on("click",
function(a){xc=fa;a=Dd?document.documentElement:x[0];a.requestFullscreen?document.fullscreenElement?document.exitFullscreen():a.requestFullscreen():a.webkitRequestFullScreen?document.webkitIsFullScreen?document.webkitCancelFullScreen():a.webkitRequestFullScreen():a.msRequestFullscreen?document.msIsFullscreen||document.msFullscreenElement?document.msExitFullscreen():a.msRequestFullscreen():a.mozRequestFullScreen&&(document.fullscreenElement||document.mozFullScreenElement?document.mozCancelFullScreen():
a.mozRequestFullScreen())}),ub=x.find(".umg-context-menu").on("contextmenu",function(a){return!1}),Sc=x.find(".umg-context-playback").on("click",function(a){D.togglePlayback()}),Xc=x.find(".umg-context-fullscreen").on("click",function(a){sb.click()}),Yb=x.find(".umg-context-mute").on("click",function(a){c()});if("disabled"==Wc)x.on("contextmenu",function(){return!1});else"custom"==Wc&&(x.on("contextmenu",C).on("mouseleave",g),Wb.on("mouseleave",g),V.on("contextmenu",g).keyup(function(a){27==a.keyCode&&
g()}));var H=x.find(".umg-tooltip");if(!ma)x.find("[data-tooltip]").on("mouseenter",function(a){var c=b(this);a=x[0].getBoundingClientRect();var d=c[0].getBoundingClientRect();H.find("p").text(c.attr("data-tooltip"));var h=parseInt(d.top-a.top-H.outerHeight());c=parseInt(d.left-a.left-H.outerWidth()/2+c.outerWidth()/2);0>c?c=0:c+H.outerWidth()>x.width()&&(c=x.width()-H.outerWidth());0>h+a.top&&(h=parseInt(d.top-a.top+H.outerHeight()+15));H.css({left:c+"px",top:h+"px"}).show()}).on("mouseleave",function(a){H.hide()});
var vb,S,yc=Qa.hasClass("umg-position-top")?"top":"bottom";if("ontouchstart"in window){var tb="touchstart.ap mousedown.ap";var oa="touchmove.ap mousemove.ap";var Ia="touchend.ap mouseup.ap"}else window.PointerEvent?(tb="pointerdown.ap",oa="pointermove.ap",Ia="pointerup.ap"):(tb="mousedown.ap",oa="mousemove.ap",Ia="mouseup.ap");Qa.on(tb,function(a){t(a);return!1});if(!ma){var Sb=function(){Pa&&(Qa.off(oa,q).off("mouseout",Sb),V.off("mouseout",Sb),H.hide())};Qa.on("mouseover",function(){Pa&&(Qa.on(oa,
q).on("mouseout",Sb),V.on("mouseout",Sb))})}var Ra=xa.hasClass("umg-horizontal"),Xb=.5;Ra?xa.width():xa.height();var ab=Ra?$a.width():$a.height(),wb;0>N?N=0:1<N&&(N=1);0!=N&&(Xb=N);xa.on(tb,function(a){m(a);return!1});if(!ma){var Tb=function(){xa.off(oa,l).off("mouseout",Tb);V.off("mouseout",Tb);H.hide()};xa.on("mouseover",function(){xa.on(oa,l).on("mouseout",Tb);V.on("mouseout",Tb)})}var ka=!0,za,lb,Sa,Ub,ya,Ja,Zb=x.find(".umg-range-drag-hit"),ua=x.find(".umg-range-handle-a"),Y=x.find(".umg-range-handle-b");
b(".umg-range-handle-a, .umg-range-handle-b").on(tb,function(a){Zb.show();Sa=b(a.currentTarget);z(a);return!1});if(!ma){var Vb=function(){if(Pa){if(lb)return!1;Ub.off("mouseout",Vb);V.off("mouseout",Vb);H.hide()}};b(".umg-range-handle-a, .umg-range-handle-b").on("mouseover",function(a){if(Pa){Ub=b(a.currentTarget).on("mouseout",Vb);V.on("mouseout",Vb);var c=parseInt(Ub.css("left"),10);b(a.currentTarget).hasClass("umg-range-handle-b")&&(c+=Y.outerWidth());c=d(c);UMGUtils.isNumber(c[0])&&UMGUtils.isNumber(c[1])&&
I(a,c,Ub)}})}UMGUtils.isEmpty(a.facebookAppId)?console.log("facebookAppId has not been set in settings!"):U(a.facebookAppId);var Pc=x.find(".umg-playback-rate-toggle"),zc=x.find(".umg-playback-rate-menu"),$b;zc.find(".umg-menu-item").each(function(){b(this).attr("data-label",b(this).find("a").text()).on("click",M)});var Ac=x.find(".umg-quality-toggle").hide(),ac=x.find(".umg-quality-menu"),yb,Nc=x.find(".umg-subtitle-toggle").hide(),kb=x.find(".umg-subtitle-menu"),W,Ta,zb=[],qa=[],T;this.setSubtitle=
function(a){if(!B)return!1;if("Off"==a||""==a)Ta=!1,rb.empty(),T=null,W&&W.removeClass("umg-menu-active"),W=kb.find(".umg-menu-item[data-label='Off']").addClass("umg-menu-active");else if(zb[a])Ta=!1,rb.empty(),T=null,W&&W.removeClass("umg-menu-active"),W=kb.find(".umg-menu-item[data-label='"+a+"']").addClass("umg-menu-active"),qa=zb[a],Ta=!0;else{var b,c=n.subtitles.length;for(b=0;b<c;b++){var d=n.subtitles[b];if(d.label==a){Ta=!1;rb.empty();T=null;W&&W.removeClass("umg-menu-active");W=kb.find(".umg-menu-item[data-label='"+
a+"']").addClass("umg-menu-active");ja(d);break}}}};Cd&&V.keyup(function(a){a.stopImmediatePropagation();a.preventDefault();if(!B)return!1;var d=a.keyCode;b(a.target);37==d?Uc():39==d?Vc():33==d?cc():34==d?Cb():32==d?D.togglePlayback():77==d&&c()});var Yc=[tc,Bd,sb,pa,xb,Pb,Ad,Qb,sc,Uc,Vc,x.find(".umg-info-close"),x.find(".umg-embed-close"),x.find(".umg-next-toggle"),x.find(".umg-prev-toggle"),x.find(".umg-share-item")],Ed=Yc.length,Aa;for(Aa=0;Aa<Ed;Aa++)b(Yc[Aa]).css("cursor","pointer").on("click",
gd);if(ma)x.on("touchend.ap2",function(a){if("fullscreen"==Rb||Gc){var b;Eb&&(b=!0);na&&clearTimeout(na);eb();na=setTimeout(function(){clearTimeout(this);fb()},ob);if(b)return!1}});if(a.embedWidth&&!UMGUtils.isEmpty(a.embedWidth)&&a.embedHeight&&!UMGUtils.isEmpty(a.embedHeight)){var Fd=a.embedSrc||window.location.href,Gd=x.find(".umg-embed-code").text('<iframe width="'+a.embedWidth+'" height="'+a.embedHeight+'" src="'+Fd+'" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>');
x.find(".umg-embed-copy").on("click",function(){UMGUtils.selectText(Gd[0]);try{document.execCommand("copy")}catch(h){alert("Please press Ctrl/Cmd+C to copy code!")}})}var E=new UMGPlaylistManager(a);b(E).on("UMGPlaylistManager.COUNTER_READY",function(a,c){-1!=Ea&&Ec();var d=E.getCounter(),e=ha.children(".umg-playlist-item[data-id="+d+"]");e.length&&(Ea=d,Db(e,"on"),pc&&0<J&&(dc||("horizontal"==ib?Nb.mCustomScrollbar("scrollTo",parseInt(e.position().left),{scrollInertia:500}):Nb.mCustomScrollbar("scrollTo",
parseInt(e.position().top),{scrollInertia:500})),dc=!1),b(D).trigger("playlistItemDisabled",{instance:D,instanceName:fa,item:e}));Mc()});Ya.on("resize",function(){if(!B)return!1;vc&&clearTimeout(vc);vc=setTimeout(Lc,250)});this.playMedia=function(){if(!B||!v||la||!r)return!1;r.play();la=!0};this.pauseMedia=function(){if(!(B&&v&&la&&r))return!1;r.pause();la=!1};this.togglePlayback=function(){if(!B||!v||!r)return!1;r.togglePlayback()};this.nextMedia=function(){if(!B||!ra)return!1;Cb()};this.previousMedia=
function(){if(!B||!ra)return!1;cc()};this.setAutoPlay=function(a){if(!B)return!1;oc(a)};this.getVolume=function(){return B?N:!1};this.setVolume=function(a){if(!B)return!1;0>a?a=0:1<a&&(a=1);e(a)};this.toggleMute=function(){if(!B)return!1;c()};this.getMediaStarted=function(){return B&&r?r.getMediaStarted():!1};this.seek=function(a,b){if(!B||!v||!r)return!1;"undefined"===typeof b&&(b=!0);r.seek(a,b)};this.seekBackward=function(a){if(!B||!v||!r)return!1;r.seekBackward(a)};this.seekForward=function(a){if(!B||
!v||!r)return!1;r.seekForward(a)};this.getCurrentTime=function(){return B&&v&&r?r.getCurrentTime():!1};this.getDuration=function(){return B&&v&&r?r.getDuration():!1};this.getLoadProgress=function(){return B&&v&&r?r.getLoadedFraction():!1};this.togglePlaylist=function(a){if(!B||!qb)return!1;bc(a)};this.toggleRandom=function(a){if(!B||"undefined"===typeof E)return!1;E.setRandom(a)};this.toggleLoop=function(a){if(!B||"undefined"===typeof E)return!1;E.setLooping(a)};this.setPlaybackRate=function(a){if(!B||
!v||!r)return!1;n.playbackRate=a;"audio"==v?r.setPlaybackRate(a):"video"==v?r.setPlaybackRate(a):"youtube"==v?r.setPlaybackRate(a):"wistia"==v&&r.setPlaybackRate(a)};this.setPlaybackQuality=function(a){if(!B||!v||!r)return!1;if("image"==v||"audio"==v||"video"==v){if(-1==b.inArray(a,n.available_quality))return!1;n.quality=a;va(a);Mc(!0)}else"youtube"!=v&&"dm"!=v||r.setPlaybackQuality(a)};this.setRange=function(a,b){if(!B||"undefined"===typeof a||"undefined"===typeof b||!v)return!1;p(a,b)};this.resetRange=
function(){if(!B||!v)return!1;f()};this.toggleInfo=function(a){if(!B||!v)return!1;Ab(a)};this.toggleEmbed=function(a){if(!B||!v)return!1;Bb(a)};this.toggleFullscreen=function(){if(!B)return!1;sb.click()};this.destroyMedia=function(){if(!B)return!1;B&&v&&(qb&&-1!=Ea&&Ec(),Ob(),E.reSetCounter())};this.destroyPlaylist=function(){if(!B)return!1;jc();gb=null};this.loadMedia=function(a){if(!B||Fa||!ra)return!1;if("number"===typeof a)0>a?a=0:a>J-1&&(a=J-1),E.processPlaylistRequest(a);else if("string"===
typeof a){var b,c=!1;for(b=0;b<J;b++)if(a==ca[b].data.title){a=b;c=!0;break}if(!c)return alert('Track with title "'+a+'" doesnt exist. loadMedia failed.'),!1;E.processPlaylistRequest(a)}else return alert("Invalid value loadMedia!"),!1};this.loadPlaylist=function(a){if(!B||Fa)return!1;if("string"===typeof a){if(gb==a)return!1;gb=a;Ic()}else return alert("Invalid value loadPlaylist!"),!1};this.addTrack=function(a,c,d,e){if(!B||Fa)return!1;if("undefined"===typeof a)return alert("addTrack method requires format parameter. AddTrack failed."),
!1;if("undefined"===typeof c)return alert("addTrack method requires track parameter. AddTrack failed."),!1;jb=!1;"undefined"!==typeof d&&(jb=d);d=1;var f=!1;if("string"!==typeof c&&"[object Object]"!==Object.prototype.toString.call(c))if("[object Array]"===Object.prototype.toString.call(c))d=c.length,f=!0;else return alert("addTrack method requires track as string, object or array parameter. AddTrack failed."),!1;ia=e;hb=!1;Ga=!0;if(ra)if("undefined"!==typeof ia){if(0>ia||ia>J)return alert('Invalid position to insert track to. Position number "'+
e+'" doesnt exist. AddTrack failed.'),!1;ia==J&&(hb=!0)}else hb=!0,ia=J;else{if("undefined"!==typeof ia){if(0!=ia)return alert('Invalid position to insert track to. Position number "'+e+'" doesnt exist. AddTrack failed.'),!1}else ia=0;hb=!0}Fa=!0;ba.show();Mb=!1;Fb=!0;aa=-1;K=[];X=[];for(e=0;e<d;e++){var g=f?c[e]:c;if("html"==a){var h=kc;g=b(g);var k=b("<div>").append(g.clone()).html();g=document.createElement("div");g.innerHTML=k;g=b(g.firstChild);h=h(g)}else if(h=g,"image"==h.type||"video"==h.type||
"audio"==h.type)h.path=UMGUtils.isJsonString(h.path)||h.path;X.push(h)}J=X.length;Lb=!1;ra||(Lb=!0);ra=ha;F()};this.removeTrack=function(a){if(!B||Fa||!ra)return!1;if("undefined"===typeof a)return alert("removeTrack method requires track id parameter. removeTrack failed."),!1;if("string"===typeof a){var b,c=!1;for(b=0;b<J;b++)if(a==ca[b].data.title){a=b;c=!0;break}if(!c)return alert('Track with title "'+a+'" doesnt exist. RemoveTrack failed.'),!1}else if("number"===typeof a){if(a=parseInt(a,10),0>
a||a>J-1)return alert('Invalid track number. Track number  "'+a+'" doesnt exist. RemoveTrack failed.'),!1}else return alert("removeTrack method requires either a track number or a track title to remove. removeTrack failed."),!1;ca[a]?(ha.children("div").eq(a).remove(),ca.splice(a,1),nc(),0<J?(b=E.getCounter(),a==b?(Ob(),E.setPlaylistItems(J)):(E.setPlaylistItems(J,!1),a<b&&E.reSetCounter(E.getCounter()-1)),-1!=E.getCounter()&&(Ea=E.getCounter())):jc()):alert('RemoveTrack with id "'+a+'" failed.')};
this.sort=function(a,c){if(!B||!ra)return!1;if("undefined"===typeof a)return console.log("Sort method requires type parameter. Sort method failed."),!1;var d=ha.children(".umg-playlist-item"),e=d.length,f=a.toLowerCase();if(2>e)return!1;if("title"==f)for(UMGUtils.keysrt2(ca,"data","title",c||!1),e=[],f=0;f<J;f++)e.push(ca[f].id);else if("random"==f)e=UMGUtils.randomiseArray(e),ca=UMGUtils.sortArray(ca,e);else return console.log("Sort method requires type parameter. Sort method failed."),!1;f=E.getCounter();
ha.append(b.map(e,function(a){return d[a]}));-1!=f&&(e=ha.children(".umg-playlist-item[data-id='"+f+"']").index(),E.reSetCounter(e),Ea=e);nc()};this.getPlaylistLength=function(){return B?J:!1};this.getMediaPlaying=function(){return B?la:!1};this.getPlaylistTransition=function(){return Fa};this.getPlaylistLoaded=function(){return Mb};this.getSetupDone=function(){return B};this.getActiveItemId=function(){return B?"undefined"!==typeof E?E.getCounter():null:!1};this.getPlaylistData=function(){return B?
ca:!1};this.getCurrMediaData=function(){return B?n:!1};this.getSettings=function(){return B?a||null:!1};var gb=a.activePlaylist;UMGUtils.isEmpty(gb)?Kc():Ic();return this}})(jQuery);